{
  "version": 3,
  "sources": ["../../object-assign/index.js", "../../roslib/src/mixin.js", "../../roslib/src/util/shim/WebSocket.js", "../../webworkify/index.js", "../../webworkify-webpack/index.js", "../../roslib/src/util/workerSocketImpl.js", "../../roslib/src/util/workerSocket.js", "../../roslib/src/util/shim/canvas.js", "../../roslib/src/util/shim/decompressPng.js", "../../cbor-js/cbor.js", "../../roslib/src/util/cborTypedArrayTags.js", "../../roslib/src/core/SocketAdapter.js", "../../roslib/src/core/ServiceResponse.js", "../../roslib/src/core/ServiceRequest.js", "../../eventemitter2/lib/eventemitter2.js", "../../roslib/src/core/Service.js", "../../roslib/src/core/Ros.js", "../../roslib/src/core/Message.js", "../../roslib/src/core/Topic.js", "../../roslib/src/core/Param.js", "../../roslib/src/core/index.js", "../../roslib/src/actionlib/ActionClient.js", "../../roslib/src/actionlib/ActionListener.js", "../../roslib/src/actionlib/Goal.js", "../../roslib/src/actionlib/SimpleActionServer.js", "../../roslib/src/actionlib/index.js", "../../roslib/src/math/Vector3.js", "../../roslib/src/math/Quaternion.js", "../../roslib/src/math/Pose.js", "../../roslib/src/math/Transform.js", "../../roslib/src/math/index.js", "../../roslib/src/tf/TFClient.js", "../../roslib/src/tf/index.js", "../../roslib/src/urdf/UrdfTypes.js", "../../roslib/src/urdf/UrdfBox.js", "../../roslib/src/urdf/UrdfColor.js", "../../roslib/src/urdf/UrdfCylinder.js", "../../roslib/src/urdf/UrdfMaterial.js", "../../roslib/src/urdf/UrdfMesh.js", "../../roslib/src/urdf/UrdfSphere.js", "../../roslib/src/urdf/UrdfVisual.js", "../../roslib/src/urdf/UrdfLink.js", "../../roslib/src/urdf/UrdfJoint.js", "../../roslib/src/util/shim/@xmldom/xmldom.js", "../../roslib/src/urdf/UrdfModel.js", "../../roslib/src/urdf/index.js", "../../roslib/src/RosLib.js"],
  "sourcesContent": ["/*\r\nobject-assign\r\n(c) Sindre Sorhus\r\n@license MIT\r\n*/\r\n\r\n'use strict';\r\n/* eslint-disable no-unused-vars */\r\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\r\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\r\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\r\n\r\nfunction toObject(val) {\r\n\tif (val === null || val === undefined) {\r\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\r\n\t}\r\n\r\n\treturn Object(val);\r\n}\r\n\r\nfunction shouldUseNative() {\r\n\ttry {\r\n\t\tif (!Object.assign) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t// Detect buggy property enumeration order in older V8 versions.\r\n\r\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\r\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\r\n\t\ttest1[5] = 'de';\r\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\r\n\t\tvar test2 = {};\r\n\t\tfor (var i = 0; i < 10; i++) {\r\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\r\n\t\t}\r\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\r\n\t\t\treturn test2[n];\r\n\t\t});\r\n\t\tif (order2.join('') !== '0123456789') {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\r\n\t\tvar test3 = {};\r\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\r\n\t\t\ttest3[letter] = letter;\r\n\t\t});\r\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\r\n\t\t\t\t'abcdefghijklmnopqrst') {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t} catch (err) {\r\n\t\t// We don't expect any of the above to throw, but better to be safe.\r\n\t\treturn false;\r\n\t}\r\n}\r\n\r\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\r\n\tvar from;\r\n\tvar to = toObject(target);\r\n\tvar symbols;\r\n\r\n\tfor (var s = 1; s < arguments.length; s++) {\r\n\t\tfrom = Object(arguments[s]);\r\n\r\n\t\tfor (var key in from) {\r\n\t\t\tif (hasOwnProperty.call(from, key)) {\r\n\t\t\t\tto[key] = from[key];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (getOwnPropertySymbols) {\r\n\t\t\tsymbols = getOwnPropertySymbols(from);\r\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\r\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\r\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn to;\r\n};\r\n", "/**\r\n * Mixin a feature to the core/Ros prototype.\r\n * For example, mixin(Ros, ['Topic'], {Topic: <Topic>})\r\n * will add a topic bound to any Ros instances so a user\r\n * can call `var topic = ros.Topic({name: '/foo'});`\r\n *\r\n * @author Graeme Yeates - github.com/megawac\r\n */\r\nmodule.exports = function(Ros, classes, features) {\r\n    classes.forEach(function(className) {\r\n        var Class = features[className];\r\n        Ros.prototype[className] = function(options) {\r\n            options.ros = this;\r\n            return new Class(options);\r\n        };\r\n    });\r\n};\r\n", "module.exports = typeof window !== 'undefined' ? window.WebSocket : WebSocket;\r\n", "var bundleFn = arguments[3];\r\nvar sources = arguments[4];\r\nvar cache = arguments[5];\r\n\r\nvar stringify = JSON.stringify;\r\n\r\nmodule.exports = function (fn, options) {\r\n    var wkey;\r\n    var cacheKeys = Object.keys(cache);\r\n\r\n    for (var i = 0, l = cacheKeys.length; i < l; i++) {\r\n        var key = cacheKeys[i];\r\n        var exp = cache[key].exports;\r\n        // Using babel as a transpiler to use esmodule, the export will always\r\n        // be an object with the default export as a property of it. To ensure\r\n        // the existing api and babel esmodule exports are both supported we\r\n        // check for both\r\n        if (exp === fn || exp && exp.default === fn) {\r\n            wkey = key;\r\n            break;\r\n        }\r\n    }\r\n\r\n    if (!wkey) {\r\n        wkey = Math.floor(Math.pow(16, 8) * Math.random()).toString(16);\r\n        var wcache = {};\r\n        for (var i = 0, l = cacheKeys.length; i < l; i++) {\r\n            var key = cacheKeys[i];\r\n            wcache[key] = key;\r\n        }\r\n        sources[wkey] = [\r\n            'function(require,module,exports){' + fn + '(self); }',\r\n            wcache\r\n        ];\r\n    }\r\n    var skey = Math.floor(Math.pow(16, 8) * Math.random()).toString(16);\r\n\r\n    var scache = {}; scache[wkey] = wkey;\r\n    sources[skey] = [\r\n        'function(require,module,exports){' +\r\n            // try to call default if defined to also support babel esmodule exports\r\n            'var f = require(' + stringify(wkey) + ');' +\r\n            '(f.default ? f.default : f)(self);' +\r\n        '}',\r\n        scache\r\n    ];\r\n\r\n    var workerSources = {};\r\n    resolveSources(skey);\r\n\r\n    function resolveSources(key) {\r\n        workerSources[key] = true;\r\n\r\n        for (var depPath in sources[key][1]) {\r\n            var depKey = sources[key][1][depPath];\r\n            if (!workerSources[depKey]) {\r\n                resolveSources(depKey);\r\n            }\r\n        }\r\n    }\r\n\r\n    var src = '(' + bundleFn + ')({'\r\n        + Object.keys(workerSources).map(function (key) {\r\n            return stringify(key) + ':['\r\n                + sources[key][0]\r\n                + ',' + stringify(sources[key][1]) + ']'\r\n            ;\r\n        }).join(',')\r\n        + '},{},[' + stringify(skey) + '])'\r\n    ;\r\n\r\n    var URL = window.URL || window.webkitURL || window.mozURL || window.msURL;\r\n\r\n    var blob = new Blob([src], { type: 'text/javascript' });\r\n    if (options && options.bare) { return blob; }\r\n    var workerUrl = URL.createObjectURL(blob);\r\n    var worker = new Worker(workerUrl);\r\n    worker.objectURL = workerUrl;\r\n    return worker;\r\n};\r\n", "function webpackBootstrapFunc (modules) {\r\n/******/  // The module cache\r\n/******/  var installedModules = {};\r\n\r\n/******/  // The require function\r\n/******/  function __webpack_require__(moduleId) {\r\n\r\n/******/    // Check if module is in cache\r\n/******/    if(installedModules[moduleId])\r\n/******/      return installedModules[moduleId].exports;\r\n\r\n/******/    // Create a new module (and put it into the cache)\r\n/******/    var module = installedModules[moduleId] = {\r\n/******/      i: moduleId,\r\n/******/      l: false,\r\n/******/      exports: {}\r\n/******/    };\r\n\r\n/******/    // Execute the module function\r\n/******/    modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\r\n\r\n/******/    // Flag the module as loaded\r\n/******/    module.l = true;\r\n\r\n/******/    // Return the exports of the module\r\n/******/    return module.exports;\r\n/******/  }\r\n\r\n/******/  // expose the modules object (__webpack_modules__)\r\n/******/  __webpack_require__.m = modules;\r\n\r\n/******/  // expose the module cache\r\n/******/  __webpack_require__.c = installedModules;\r\n\r\n/******/  // identity function for calling harmony imports with the correct context\r\n/******/  __webpack_require__.i = function(value) { return value; };\r\n\r\n/******/  // define getter function for harmony exports\r\n/******/  __webpack_require__.d = function(exports, name, getter) {\r\n/******/    if(!__webpack_require__.o(exports, name)) {\r\n/******/      Object.defineProperty(exports, name, {\r\n/******/        configurable: false,\r\n/******/        enumerable: true,\r\n/******/        get: getter\r\n/******/      });\r\n/******/    }\r\n/******/  };\r\n\r\n/******/  // define __esModule on exports\r\n/******/  __webpack_require__.r = function(exports) {\r\n/******/    Object.defineProperty(exports, '__esModule', { value: true });\r\n/******/  };\r\n\r\n/******/  // getDefaultExport function for compatibility with non-harmony modules\r\n/******/  __webpack_require__.n = function(module) {\r\n/******/    var getter = module && module.__esModule ?\r\n/******/      function getDefault() { return module['default']; } :\r\n/******/      function getModuleExports() { return module; };\r\n/******/    __webpack_require__.d(getter, 'a', getter);\r\n/******/    return getter;\r\n/******/  };\r\n\r\n/******/  // Object.prototype.hasOwnProperty.call\r\n/******/  __webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\r\n\r\n/******/  // __webpack_public_path__\r\n/******/  __webpack_require__.p = \"/\";\r\n\r\n/******/  // on error function for async loading\r\n/******/  __webpack_require__.oe = function(err) { console.error(err); throw err; };\r\n\r\n  var f = __webpack_require__(__webpack_require__.s = ENTRY_MODULE)\r\n  return f.default || f // try to call default if defined to also support babel esmodule exports\r\n}\r\n\r\nvar moduleNameReqExp = '[\\\\.|\\\\-|\\\\+|\\\\w|\\/|@]+'\r\nvar dependencyRegExp = '\\\\(\\\\s*(\\/\\\\*.*?\\\\*\\/)?\\\\s*.*?(' + moduleNameReqExp + ').*?\\\\)' // additional chars when output.pathinfo is true\r\n\r\n// http://stackoverflow.com/a/2593661/130442\r\nfunction quoteRegExp (str) {\r\n  return (str + '').replace(/[.?*+^$[\\]\\\\(){}|-]/g, '\\\\$&')\r\n}\r\n\r\nfunction isNumeric(n) {\r\n  return !isNaN(1 * n); // 1 * n converts integers, integers as string (\"123\"), 1e3 and \"1e3\" to integers and strings to NaN\r\n}\r\n\r\nfunction getModuleDependencies (sources, module, queueName) {\r\n  var retval = {}\r\n  retval[queueName] = []\r\n\r\n  var fnString = module.toString()\r\n  var wrapperSignature = fnString.match(/^function\\s?\\w*\\(\\w+,\\s*\\w+,\\s*(\\w+)\\)/)\r\n  if (!wrapperSignature) return retval\r\n  var webpackRequireName = wrapperSignature[1]\r\n\r\n  // main bundle deps\r\n  var re = new RegExp('(\\\\\\\\n|\\\\W)' + quoteRegExp(webpackRequireName) + dependencyRegExp, 'g')\r\n  var match\r\n  while ((match = re.exec(fnString))) {\r\n    if (match[3] === 'dll-reference') continue\r\n    retval[queueName].push(match[3])\r\n  }\r\n\r\n  // dll deps\r\n  re = new RegExp('\\\\(' + quoteRegExp(webpackRequireName) + '\\\\(\"(dll-reference\\\\s(' + moduleNameReqExp + '))\"\\\\)\\\\)' + dependencyRegExp, 'g')\r\n  while ((match = re.exec(fnString))) {\r\n    if (!sources[match[2]]) {\r\n      retval[queueName].push(match[1])\r\n      sources[match[2]] = __webpack_require__(match[1]).m\r\n    }\r\n    retval[match[2]] = retval[match[2]] || []\r\n    retval[match[2]].push(match[4])\r\n  }\r\n\r\n  // convert 1e3 back to 1000 - this can be important after uglify-js converted 1000 to 1e3\r\n  var keys = Object.keys(retval);\r\n  for (var i = 0; i < keys.length; i++) {\r\n    for (var j = 0; j < retval[keys[i]].length; j++) {\r\n      if (isNumeric(retval[keys[i]][j])) {\r\n        retval[keys[i]][j] = 1 * retval[keys[i]][j];\r\n      }\r\n    }\r\n  }\r\n\r\n  return retval\r\n}\r\n\r\nfunction hasValuesInQueues (queues) {\r\n  var keys = Object.keys(queues)\r\n  return keys.reduce(function (hasValues, key) {\r\n    return hasValues || queues[key].length > 0\r\n  }, false)\r\n}\r\n\r\nfunction getRequiredModules (sources, moduleId) {\r\n  var modulesQueue = {\r\n    main: [moduleId]\r\n  }\r\n  var requiredModules = {\r\n    main: []\r\n  }\r\n  var seenModules = {\r\n    main: {}\r\n  }\r\n\r\n  while (hasValuesInQueues(modulesQueue)) {\r\n    var queues = Object.keys(modulesQueue)\r\n    for (var i = 0; i < queues.length; i++) {\r\n      var queueName = queues[i]\r\n      var queue = modulesQueue[queueName]\r\n      var moduleToCheck = queue.pop()\r\n      seenModules[queueName] = seenModules[queueName] || {}\r\n      if (seenModules[queueName][moduleToCheck] || !sources[queueName][moduleToCheck]) continue\r\n      seenModules[queueName][moduleToCheck] = true\r\n      requiredModules[queueName] = requiredModules[queueName] || []\r\n      requiredModules[queueName].push(moduleToCheck)\r\n      var newModules = getModuleDependencies(sources, sources[queueName][moduleToCheck], queueName)\r\n      var newModulesKeys = Object.keys(newModules)\r\n      for (var j = 0; j < newModulesKeys.length; j++) {\r\n        modulesQueue[newModulesKeys[j]] = modulesQueue[newModulesKeys[j]] || []\r\n        modulesQueue[newModulesKeys[j]] = modulesQueue[newModulesKeys[j]].concat(newModules[newModulesKeys[j]])\r\n      }\r\n    }\r\n  }\r\n\r\n  return requiredModules\r\n}\r\n\r\nmodule.exports = function (moduleId, options) {\r\n  options = options || {}\r\n  var sources = {\r\n    main: __webpack_modules__\r\n  }\r\n\r\n  var requiredModules = options.all ? { main: Object.keys(sources.main) } : getRequiredModules(sources, moduleId)\r\n\r\n  var src = ''\r\n\r\n  Object.keys(requiredModules).filter(function (m) { return m !== 'main' }).forEach(function (module) {\r\n    var entryModule = 0\r\n    while (requiredModules[module][entryModule]) {\r\n      entryModule++\r\n    }\r\n    requiredModules[module].push(entryModule)\r\n    sources[module][entryModule] = '(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })'\r\n    src = src + 'var ' + module + ' = (' + webpackBootstrapFunc.toString().replace('ENTRY_MODULE', JSON.stringify(entryModule)) + ')({' + requiredModules[module].map(function (id) { return '' + JSON.stringify(id) + ': ' + sources[module][id].toString() }).join(',') + '});\\n'\r\n  })\r\n\r\n  src = src + 'new ((' + webpackBootstrapFunc.toString().replace('ENTRY_MODULE', JSON.stringify(moduleId)) + ')({' + requiredModules.main.map(function (id) { return '' + JSON.stringify(id) + ': ' + sources.main[id].toString() }).join(',') + '}))(self);'\r\n\r\n  var blob = new window.Blob([src], { type: 'text/javascript' })\r\n  if (options.bare) { return blob }\r\n\r\n  var URL = window.URL || window.webkitURL || window.mozURL || window.msURL\r\n\r\n  var workerUrl = URL.createObjectURL(blob)\r\n  var worker = new window.Worker(workerUrl)\r\n  worker.objectURL = workerUrl\r\n\r\n  return worker\r\n}\r\n", "var WebSocket = WebSocket || require('ws');\r\n\r\nmodule.exports = function(self) {\r\n  var socket = null;\r\n\r\n  function handleSocketMessage(ev) {\r\n    var data = ev.data;\r\n\r\n    if (data instanceof ArrayBuffer) {\r\n      // binary message, transfer for speed\r\n      self.postMessage(data, [data]);\r\n    } else {\r\n      // JSON message, copy string\r\n      self.postMessage(data);\r\n    }\r\n  }\r\n\r\n  function handleSocketControl(ev) {\r\n    self.postMessage({type: ev.type});\r\n  }\r\n\r\n  self.addEventListener('message', function(ev) {\r\n    var data = ev.data;\r\n\r\n    if (typeof data === 'string') {\r\n      // JSON message from ROSLIB\r\n      socket.send(data);\r\n    } else {\r\n      // control message\r\n      if (data.hasOwnProperty('close')) {\r\n        socket.close();\r\n        socket = null;\r\n      } else if (data.hasOwnProperty('uri')) {\r\n        var uri = data.uri;\r\n\r\n        socket = new WebSocket(uri);\r\n        socket.binaryType = 'arraybuffer';\r\n\r\n        socket.onmessage = handleSocketMessage;\r\n        socket.onclose = handleSocketControl;\r\n        socket.onopen = handleSocketControl;\r\n        socket.onerror = handleSocketControl;\r\n      } else {\r\n        throw 'Unknown message to WorkerSocket';\r\n      }\r\n    }\r\n  });\r\n};\r\n", "try {\r\n    var work = require('webworkify');\r\n} catch(ReferenceError) {\r\n    // webworkify raises ReferenceError when required inside webpack\r\n    var work = require('webworkify-webpack');\r\n}\r\nvar workerSocketImpl = require('./workerSocketImpl');\r\n\r\nfunction WorkerSocket(uri) {\r\n  this.socket_ = work(workerSocketImpl);\r\n\r\n  this.socket_.addEventListener('message', this.handleWorkerMessage_.bind(this));\r\n\r\n  this.socket_.postMessage({\r\n    uri: uri,\r\n  });\r\n}\r\n\r\nWorkerSocket.prototype.handleWorkerMessage_ = function(ev) {\r\n  var data = ev.data;\r\n  if (data instanceof ArrayBuffer || typeof data === 'string') {\r\n    // binary or JSON message from rosbridge\r\n    this.onmessage(ev);\r\n  } else {\r\n    // control message from the wrapped WebSocket\r\n    var type = data.type;\r\n    if (type === 'close') {\r\n      this.onclose(null);\r\n    } else if (type === 'open') {\r\n      this.onopen(null);\r\n    } else if (type === 'error') {\r\n      this.onerror(null);\r\n    } else {\r\n      throw 'Unknown message from workersocket';\r\n    }\r\n  }\r\n};\r\n\r\nWorkerSocket.prototype.send = function(data) {\r\n  this.socket_.postMessage(data);\r\n};\r\n\r\nWorkerSocket.prototype.close = function() {\r\n  this.socket_.postMessage({\r\n    close: true\r\n  });\r\n};\r\n\r\nmodule.exports = WorkerSocket;\r\n", "/* global document */\r\nmodule.exports = function Canvas() {\r\n\treturn document.createElement('canvas');\r\n};", "/**\r\n * @fileOverview\r\n * @author Graeme Yeates - github.com/megawac\r\n */\r\n\r\n'use strict';\r\n\r\nvar Canvas = require('canvas');\r\nvar Image = Canvas.Image || window.Image;\r\n\r\n/**\r\n * If a message was compressed as a PNG image (a compression hack since\r\n * gzipping over WebSockets * is not supported yet), this function places the\r\n * \"image\" in a canvas element then decodes the * \"image\" as a Base64 string.\r\n *\r\n * @private\r\n * @param data - An object containing the PNG data.\r\n * @param callback - Function with the following params:\r\n * @param callback.data - The uncompressed data.\r\n */\r\nfunction decompressPng(data, callback) {\r\n  // Uncompresses the data before sending it through (use image/canvas to do so).\r\n  var image = new Image();\r\n  // When the image loads, extracts the raw data (JSON message).\r\n  image.onload = function() {\r\n    // Creates a local canvas to draw on.\r\n    var canvas = new Canvas();\r\n    var context = canvas.getContext('2d');\r\n\r\n    // Sets width and height.\r\n    canvas.width = image.width;\r\n    canvas.height = image.height;\r\n\r\n    // Prevents anti-aliasing and loosing data\r\n    context.imageSmoothingEnabled = false;\r\n    context.webkitImageSmoothingEnabled = false;\r\n    context.mozImageSmoothingEnabled = false;\r\n\r\n    // Puts the data into the image.\r\n    context.drawImage(image, 0, 0);\r\n    // Grabs the raw, uncompressed data.\r\n    var imageData = context.getImageData(0, 0, image.width, image.height).data;\r\n\r\n    // Constructs the JSON.\r\n    var jsonData = '';\r\n    for (var i = 0; i < imageData.length; i += 4) {\r\n      // RGB\r\n      jsonData += String.fromCharCode(imageData[i], imageData[i + 1], imageData[i + 2]);\r\n    }\r\n    callback(JSON.parse(jsonData));\r\n  };\r\n  // Sends the image data to load.\r\n  image.src = 'data:image/png;base64,' + data;\r\n}\r\n\r\nmodule.exports = decompressPng;\r\n", "/*\r\n * The MIT License (MIT)\r\n *\r\n * Copyright (c) 2014 Patrick Gansterer <paroga@paroga.com>\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\r\n * SOFTWARE.\r\n */\r\n\r\n(function(global, undefined) { \"use strict\";\r\nvar POW_2_24 = Math.pow(2, -24),\r\n    POW_2_32 = Math.pow(2, 32),\r\n    POW_2_53 = Math.pow(2, 53);\r\n\r\nfunction encode(value) {\r\n  var data = new ArrayBuffer(256);\r\n  var dataView = new DataView(data);\r\n  var lastLength;\r\n  var offset = 0;\r\n\r\n  function ensureSpace(length) {\r\n    var newByteLength = data.byteLength;\r\n    var requiredLength = offset + length;\r\n    while (newByteLength < requiredLength)\r\n      newByteLength *= 2;\r\n    if (newByteLength !== data.byteLength) {\r\n      var oldDataView = dataView;\r\n      data = new ArrayBuffer(newByteLength);\r\n      dataView = new DataView(data);\r\n      var uint32count = (offset + 3) >> 2;\r\n      for (var i = 0; i < uint32count; ++i)\r\n        dataView.setUint32(i * 4, oldDataView.getUint32(i * 4));\r\n    }\r\n\r\n    lastLength = length;\r\n    return dataView;\r\n  }\r\n  function write() {\r\n    offset += lastLength;\r\n  }\r\n  function writeFloat64(value) {\r\n    write(ensureSpace(8).setFloat64(offset, value));\r\n  }\r\n  function writeUint8(value) {\r\n    write(ensureSpace(1).setUint8(offset, value));\r\n  }\r\n  function writeUint8Array(value) {\r\n    var dataView = ensureSpace(value.length);\r\n    for (var i = 0; i < value.length; ++i)\r\n      dataView.setUint8(offset + i, value[i]);\r\n    write();\r\n  }\r\n  function writeUint16(value) {\r\n    write(ensureSpace(2).setUint16(offset, value));\r\n  }\r\n  function writeUint32(value) {\r\n    write(ensureSpace(4).setUint32(offset, value));\r\n  }\r\n  function writeUint64(value) {\r\n    var low = value % POW_2_32;\r\n    var high = (value - low) / POW_2_32;\r\n    var dataView = ensureSpace(8);\r\n    dataView.setUint32(offset, high);\r\n    dataView.setUint32(offset + 4, low);\r\n    write();\r\n  }\r\n  function writeTypeAndLength(type, length) {\r\n    if (length < 24) {\r\n      writeUint8(type << 5 | length);\r\n    } else if (length < 0x100) {\r\n      writeUint8(type << 5 | 24);\r\n      writeUint8(length);\r\n    } else if (length < 0x10000) {\r\n      writeUint8(type << 5 | 25);\r\n      writeUint16(length);\r\n    } else if (length < 0x100000000) {\r\n      writeUint8(type << 5 | 26);\r\n      writeUint32(length);\r\n    } else {\r\n      writeUint8(type << 5 | 27);\r\n      writeUint64(length);\r\n    }\r\n  }\r\n  \r\n  function encodeItem(value) {\r\n    var i;\r\n\r\n    if (value === false)\r\n      return writeUint8(0xf4);\r\n    if (value === true)\r\n      return writeUint8(0xf5);\r\n    if (value === null)\r\n      return writeUint8(0xf6);\r\n    if (value === undefined)\r\n      return writeUint8(0xf7);\r\n  \r\n    switch (typeof value) {\r\n      case \"number\":\r\n        if (Math.floor(value) === value) {\r\n          if (0 <= value && value <= POW_2_53)\r\n            return writeTypeAndLength(0, value);\r\n          if (-POW_2_53 <= value && value < 0)\r\n            return writeTypeAndLength(1, -(value + 1));\r\n        }\r\n        writeUint8(0xfb);\r\n        return writeFloat64(value);\r\n\r\n      case \"string\":\r\n        var utf8data = [];\r\n        for (i = 0; i < value.length; ++i) {\r\n          var charCode = value.charCodeAt(i);\r\n          if (charCode < 0x80) {\r\n            utf8data.push(charCode);\r\n          } else if (charCode < 0x800) {\r\n            utf8data.push(0xc0 | charCode >> 6);\r\n            utf8data.push(0x80 | charCode & 0x3f);\r\n          } else if (charCode < 0xd800) {\r\n            utf8data.push(0xe0 | charCode >> 12);\r\n            utf8data.push(0x80 | (charCode >> 6)  & 0x3f);\r\n            utf8data.push(0x80 | charCode & 0x3f);\r\n          } else {\r\n            charCode = (charCode & 0x3ff) << 10;\r\n            charCode |= value.charCodeAt(++i) & 0x3ff;\r\n            charCode += 0x10000;\r\n\r\n            utf8data.push(0xf0 | charCode >> 18);\r\n            utf8data.push(0x80 | (charCode >> 12)  & 0x3f);\r\n            utf8data.push(0x80 | (charCode >> 6)  & 0x3f);\r\n            utf8data.push(0x80 | charCode & 0x3f);\r\n          }\r\n        }\r\n\r\n        writeTypeAndLength(3, utf8data.length);\r\n        return writeUint8Array(utf8data);\r\n\r\n      default:\r\n        var length;\r\n        if (Array.isArray(value)) {\r\n          length = value.length;\r\n          writeTypeAndLength(4, length);\r\n          for (i = 0; i < length; ++i)\r\n            encodeItem(value[i]);\r\n        } else if (value instanceof Uint8Array) {\r\n          writeTypeAndLength(2, value.length);\r\n          writeUint8Array(value);\r\n        } else {\r\n          var keys = Object.keys(value);\r\n          length = keys.length;\r\n          writeTypeAndLength(5, length);\r\n          for (i = 0; i < length; ++i) {\r\n            var key = keys[i];\r\n            encodeItem(key);\r\n            encodeItem(value[key]);\r\n          }\r\n        }\r\n    }\r\n  }\r\n  \r\n  encodeItem(value);\r\n\r\n  if (\"slice\" in data)\r\n    return data.slice(0, offset);\r\n  \r\n  var ret = new ArrayBuffer(offset);\r\n  var retView = new DataView(ret);\r\n  for (var i = 0; i < offset; ++i)\r\n    retView.setUint8(i, dataView.getUint8(i));\r\n  return ret;\r\n}\r\n\r\nfunction decode(data, tagger, simpleValue) {\r\n  var dataView = new DataView(data);\r\n  var offset = 0;\r\n  \r\n  if (typeof tagger !== \"function\")\r\n    tagger = function(value) { return value; };\r\n  if (typeof simpleValue !== \"function\")\r\n    simpleValue = function() { return undefined; };\r\n\r\n  function read(value, length) {\r\n    offset += length;\r\n    return value;\r\n  }\r\n  function readArrayBuffer(length) {\r\n    return read(new Uint8Array(data, offset, length), length);\r\n  }\r\n  function readFloat16() {\r\n    var tempArrayBuffer = new ArrayBuffer(4);\r\n    var tempDataView = new DataView(tempArrayBuffer);\r\n    var value = readUint16();\r\n\r\n    var sign = value & 0x8000;\r\n    var exponent = value & 0x7c00;\r\n    var fraction = value & 0x03ff;\r\n    \r\n    if (exponent === 0x7c00)\r\n      exponent = 0xff << 10;\r\n    else if (exponent !== 0)\r\n      exponent += (127 - 15) << 10;\r\n    else if (fraction !== 0)\r\n      return fraction * POW_2_24;\r\n    \r\n    tempDataView.setUint32(0, sign << 16 | exponent << 13 | fraction << 13);\r\n    return tempDataView.getFloat32(0);\r\n  }\r\n  function readFloat32() {\r\n    return read(dataView.getFloat32(offset), 4);\r\n  }\r\n  function readFloat64() {\r\n    return read(dataView.getFloat64(offset), 8);\r\n  }\r\n  function readUint8() {\r\n    return read(dataView.getUint8(offset), 1);\r\n  }\r\n  function readUint16() {\r\n    return read(dataView.getUint16(offset), 2);\r\n  }\r\n  function readUint32() {\r\n    return read(dataView.getUint32(offset), 4);\r\n  }\r\n  function readUint64() {\r\n    return readUint32() * POW_2_32 + readUint32();\r\n  }\r\n  function readBreak() {\r\n    if (dataView.getUint8(offset) !== 0xff)\r\n      return false;\r\n    offset += 1;\r\n    return true;\r\n  }\r\n  function readLength(additionalInformation) {\r\n    if (additionalInformation < 24)\r\n      return additionalInformation;\r\n    if (additionalInformation === 24)\r\n      return readUint8();\r\n    if (additionalInformation === 25)\r\n      return readUint16();\r\n    if (additionalInformation === 26)\r\n      return readUint32();\r\n    if (additionalInformation === 27)\r\n      return readUint64();\r\n    if (additionalInformation === 31)\r\n      return -1;\r\n    throw \"Invalid length encoding\";\r\n  }\r\n  function readIndefiniteStringLength(majorType) {\r\n    var initialByte = readUint8();\r\n    if (initialByte === 0xff)\r\n      return -1;\r\n    var length = readLength(initialByte & 0x1f);\r\n    if (length < 0 || (initialByte >> 5) !== majorType)\r\n      throw \"Invalid indefinite length element\";\r\n    return length;\r\n  }\r\n\r\n  function appendUtf16data(utf16data, length) {\r\n    for (var i = 0; i < length; ++i) {\r\n      var value = readUint8();\r\n      if (value & 0x80) {\r\n        if (value < 0xe0) {\r\n          value = (value & 0x1f) <<  6\r\n                | (readUint8() & 0x3f);\r\n          length -= 1;\r\n        } else if (value < 0xf0) {\r\n          value = (value & 0x0f) << 12\r\n                | (readUint8() & 0x3f) << 6\r\n                | (readUint8() & 0x3f);\r\n          length -= 2;\r\n        } else {\r\n          value = (value & 0x0f) << 18\r\n                | (readUint8() & 0x3f) << 12\r\n                | (readUint8() & 0x3f) << 6\r\n                | (readUint8() & 0x3f);\r\n          length -= 3;\r\n        }\r\n      }\r\n\r\n      if (value < 0x10000) {\r\n        utf16data.push(value);\r\n      } else {\r\n        value -= 0x10000;\r\n        utf16data.push(0xd800 | (value >> 10));\r\n        utf16data.push(0xdc00 | (value & 0x3ff));\r\n      }\r\n    }\r\n  }\r\n\r\n  function decodeItem() {\r\n    var initialByte = readUint8();\r\n    var majorType = initialByte >> 5;\r\n    var additionalInformation = initialByte & 0x1f;\r\n    var i;\r\n    var length;\r\n\r\n    if (majorType === 7) {\r\n      switch (additionalInformation) {\r\n        case 25:\r\n          return readFloat16();\r\n        case 26:\r\n          return readFloat32();\r\n        case 27:\r\n          return readFloat64();\r\n      }\r\n    }\r\n\r\n    length = readLength(additionalInformation);\r\n    if (length < 0 && (majorType < 2 || 6 < majorType))\r\n      throw \"Invalid length\";\r\n\r\n    switch (majorType) {\r\n      case 0:\r\n        return length;\r\n      case 1:\r\n        return -1 - length;\r\n      case 2:\r\n        if (length < 0) {\r\n          var elements = [];\r\n          var fullArrayLength = 0;\r\n          while ((length = readIndefiniteStringLength(majorType)) >= 0) {\r\n            fullArrayLength += length;\r\n            elements.push(readArrayBuffer(length));\r\n          }\r\n          var fullArray = new Uint8Array(fullArrayLength);\r\n          var fullArrayOffset = 0;\r\n          for (i = 0; i < elements.length; ++i) {\r\n            fullArray.set(elements[i], fullArrayOffset);\r\n            fullArrayOffset += elements[i].length;\r\n          }\r\n          return fullArray;\r\n        }\r\n        return readArrayBuffer(length);\r\n      case 3:\r\n        var utf16data = [];\r\n        if (length < 0) {\r\n          while ((length = readIndefiniteStringLength(majorType)) >= 0)\r\n            appendUtf16data(utf16data, length);\r\n        } else\r\n          appendUtf16data(utf16data, length);\r\n        return String.fromCharCode.apply(null, utf16data);\r\n      case 4:\r\n        var retArray;\r\n        if (length < 0) {\r\n          retArray = [];\r\n          while (!readBreak())\r\n            retArray.push(decodeItem());\r\n        } else {\r\n          retArray = new Array(length);\r\n          for (i = 0; i < length; ++i)\r\n            retArray[i] = decodeItem();\r\n        }\r\n        return retArray;\r\n      case 5:\r\n        var retObject = {};\r\n        for (i = 0; i < length || length < 0 && !readBreak(); ++i) {\r\n          var key = decodeItem();\r\n          retObject[key] = decodeItem();\r\n        }\r\n        return retObject;\r\n      case 6:\r\n        return tagger(decodeItem(), length);\r\n      case 7:\r\n        switch (length) {\r\n          case 20:\r\n            return false;\r\n          case 21:\r\n            return true;\r\n          case 22:\r\n            return null;\r\n          case 23:\r\n            return undefined;\r\n          default:\r\n            return simpleValue(length);\r\n        }\r\n    }\r\n  }\r\n\r\n  var ret = decodeItem();\r\n  if (offset !== data.byteLength)\r\n    throw \"Remaining bytes\";\r\n  return ret;\r\n}\r\n\r\nvar obj = { encode: encode, decode: decode };\r\n\r\nif (typeof define === \"function\" && define.amd)\r\n  define(\"cbor/cbor\", obj);\r\nelse if (typeof module !== 'undefined' && module.exports)\r\n  module.exports = obj;\r\nelse if (!global.CBOR)\r\n  global.CBOR = obj;\r\n\r\n})(this);\r\n", "'use strict';\r\n\r\nvar UPPER32 = Math.pow(2, 32);\r\n\r\nvar warnedPrecision = false;\r\nfunction warnPrecision() {\r\n  if (!warnedPrecision) {\r\n    warnedPrecision = true;\r\n    console.warn('CBOR 64-bit integer array values may lose precision. No further warnings.');\r\n  }\r\n}\r\n\r\n/**\r\n * Unpack 64-bit unsigned integer from byte array.\r\n * @param {Uint8Array} bytes\r\n*/\r\nfunction decodeUint64LE(bytes) {\r\n  warnPrecision();\r\n\r\n  var byteLen = bytes.byteLength;\r\n  var offset = bytes.byteOffset;\r\n  var arrLen = byteLen / 8;\r\n\r\n  var buffer = bytes.buffer.slice(offset, offset + byteLen);\r\n  var uint32View = new Uint32Array(buffer);\r\n\r\n  var arr = new Array(arrLen);\r\n  for (var i = 0; i < arrLen; i++) {\r\n    var si = i * 2;\r\n    var lo = uint32View[si];\r\n    var hi = uint32View[si+1];\r\n    arr[i] = lo + UPPER32 * hi;\r\n  }\r\n\r\n  return arr;\r\n}\r\n\r\n/**\r\n * Unpack 64-bit signed integer from byte array.\r\n * @param {Uint8Array} bytes\r\n*/\r\nfunction decodeInt64LE(bytes) {\r\n  warnPrecision();\r\n\r\n  var byteLen = bytes.byteLength;\r\n  var offset = bytes.byteOffset;\r\n  var arrLen = byteLen / 8;\r\n\r\n  var buffer = bytes.buffer.slice(offset, offset + byteLen);\r\n  var uint32View = new Uint32Array(buffer);\r\n  var int32View = new Int32Array(buffer);\r\n\r\n  var arr = new Array(arrLen);\r\n  for (var i = 0; i < arrLen; i++) {\r\n    var si = i * 2;\r\n    var lo = uint32View[si];\r\n    var hi = int32View[si+1];\r\n    arr[i] = lo + UPPER32 * hi;\r\n  }\r\n\r\n  return arr;\r\n}\r\n\r\n/**\r\n * Unpack typed array from byte array.\r\n * @param {Uint8Array} bytes\r\n * @param {type} ArrayType - Desired output array type\r\n*/\r\nfunction decodeNativeArray(bytes, ArrayType) {\r\n  var byteLen = bytes.byteLength;\r\n  var offset = bytes.byteOffset;\r\n  var buffer = bytes.buffer.slice(offset, offset + byteLen);\r\n  return new ArrayType(buffer);\r\n}\r\n\r\n/**\r\n * Supports a subset of draft CBOR typed array tags:\r\n *     <https://tools.ietf.org/html/draft-ietf-cbor-array-tags-00>\r\n *\r\n * Only supports little-endian tags for now.\r\n */\r\nvar nativeArrayTypes = {\r\n  64: Uint8Array,\r\n  69: Uint16Array,\r\n  70: Uint32Array,\r\n  72: Int8Array,\r\n  77: Int16Array,\r\n  78: Int32Array,\r\n  85: Float32Array,\r\n  86: Float64Array\r\n};\r\n\r\n/**\r\n * We can also decode 64-bit integer arrays, since ROS has these types.\r\n */\r\nvar conversionArrayTypes = {\r\n  71: decodeUint64LE,\r\n  79: decodeInt64LE\r\n};\r\n\r\n/**\r\n * Handle CBOR typed array tags during decoding.\r\n * @param {Uint8Array} data\r\n * @param {Number} tag\r\n */\r\nfunction cborTypedArrayTagger(data, tag) {\r\n  if (tag in nativeArrayTypes) {\r\n    var arrayType = nativeArrayTypes[tag];\r\n    return decodeNativeArray(data, arrayType);\r\n  }\r\n  if (tag in conversionArrayTypes) {\r\n    return conversionArrayTypes[tag](data);\r\n  }\r\n  return data;\r\n}\r\n\r\nif (typeof module !== 'undefined' && module.exports) {\r\n  module.exports = cborTypedArrayTagger;\r\n}\r\n", "/**\r\n * Socket event handling utilities for handling events on either\r\n * WebSocket and TCP sockets\r\n *\r\n * Note to anyone reviewing this code: these functions are called\r\n * in the context of their parent object, unless bound\r\n * @fileOverview\r\n */\r\n'use strict';\r\n\r\nvar decompressPng = require('../util/decompressPng');\r\nvar CBOR = require('cbor-js');\r\nvar typedArrayTagger = require('../util/cborTypedArrayTags');\r\nvar BSON = null;\r\nif(typeof bson !== 'undefined'){\r\n    BSON = bson().BSON;\r\n}\r\n\r\n/**\r\n * Event listeners for a WebSocket or TCP socket to a JavaScript\r\n * ROS Client. Sets up Messages for a given topic to trigger an\r\n * event on the ROS client.\r\n *\r\n * @namespace SocketAdapter\r\n * @private\r\n */\r\nfunction SocketAdapter(client) {\r\n  var decoder = null;\r\n  if (client.transportOptions.decoder) {\r\n    decoder = client.transportOptions.decoder;\r\n  }\r\n\r\n  function handleMessage(message) {\r\n    if (message.op === 'publish') {\r\n      client.emit(message.topic, message.msg);\r\n    } else if (message.op === 'service_response') {\r\n      client.emit(message.id, message);\r\n    } else if (message.op === 'call_service') {\r\n      client.emit(message.service, message);\r\n    } else if(message.op === 'status'){\r\n      if(message.id){\r\n        client.emit('status:'+message.id, message);\r\n      } else {\r\n        client.emit('status', message);\r\n      }\r\n    }\r\n  }\r\n\r\n  function handlePng(message, callback) {\r\n    if (message.op === 'png') {\r\n      decompressPng(message.data, callback);\r\n    } else {\r\n      callback(message);\r\n    }\r\n  }\r\n\r\n  function decodeBSON(data, callback) {\r\n    if (!BSON) {\r\n      throw 'Cannot process BSON encoded message without BSON header.';\r\n    }\r\n    var reader = new FileReader();\r\n    reader.onload  = function() {\r\n      var uint8Array = new Uint8Array(this.result);\r\n      var msg = BSON.deserialize(uint8Array);\r\n      callback(msg);\r\n    };\r\n    reader.readAsArrayBuffer(data);\r\n  }\r\n\r\n  return {\r\n    /**\r\n     * Emit a 'connection' event on WebSocket connection.\r\n     *\r\n     * @param {function} event - The argument to emit with the event.\r\n     * @memberof SocketAdapter\r\n     */\r\n    onopen: function onOpen(event) {\r\n      client.isConnected = true;\r\n      client.emit('connection', event);\r\n    },\r\n\r\n    /**\r\n     * Emit a 'close' event on WebSocket disconnection.\r\n     *\r\n     * @param {function} event - The argument to emit with the event.\r\n     * @memberof SocketAdapter\r\n     */\r\n    onclose: function onClose(event) {\r\n      client.isConnected = false;\r\n      client.emit('close', event);\r\n    },\r\n\r\n    /**\r\n     * Emit an 'error' event whenever there was an error.\r\n     *\r\n     * @param {function} event - The argument to emit with the event.\r\n     * @memberof SocketAdapter\r\n     */\r\n    onerror: function onError(event) {\r\n      client.emit('error', event);\r\n    },\r\n\r\n    /**\r\n     * Parse message responses from rosbridge and send to the appropriate\r\n     * topic, service, or param.\r\n     *\r\n     * @param {Object} data - The raw JSON message from rosbridge.\r\n     * @memberof SocketAdapter\r\n     */\r\n    onmessage: function onMessage(data) {\r\n      if (decoder) {\r\n        decoder(data.data, function (message) {\r\n          handleMessage(message);\r\n        });\r\n      } else if (typeof Blob !== 'undefined' && data.data instanceof Blob) {\r\n        decodeBSON(data.data, function (message) {\r\n          handlePng(message, handleMessage);\r\n        });\r\n      } else if (data.data instanceof ArrayBuffer) {\r\n        var decoded = CBOR.decode(data.data, typedArrayTagger);\r\n        handleMessage(decoded);\r\n      } else {\r\n        var message = JSON.parse(typeof data === 'string' ? data : data.data);\r\n        handlePng(message, handleMessage);\r\n      }\r\n    }\r\n  };\r\n}\r\n\r\nmodule.exports = SocketAdapter;\r\n", "/**\r\n * @fileOverview\r\n * @author Brandon Alexander - balexander@willowgarage.com\r\n */\r\n\r\nvar assign = require('object-assign');\r\n\r\n/**\r\n * A ServiceResponse is returned from the service call.\r\n *\r\n * @constructor\r\n * @param {Object} values - Object matching the fields defined in the .srv definition file.\r\n */\r\nfunction ServiceResponse(values) {\r\n  assign(this, values);\r\n}\r\n\r\nmodule.exports = ServiceResponse;", "/**\r\n * @fileOverview\r\n * @author Brandon Alexander - balexander@willowgarage.com\r\n */\r\n\r\nvar assign = require('object-assign');\r\n\r\n/**\r\n * A ServiceRequest is passed into the service call.\r\n *\r\n * @constructor\r\n * @param {Object} values - Object matching the fields defined in the .srv definition file.\r\n */\r\nfunction ServiceRequest(values) {\r\n  assign(this, values);\r\n}\r\n\r\nmodule.exports = ServiceRequest;", "/*!\r\n * EventEmitter2\r\n * https://github.com/hij1nx/EventEmitter2\r\n *\r\n * Copyright (c) 2013 hij1nx\r\n * Licensed under the MIT license.\r\n */\r\n;!function(undefined) {\r\n  var hasOwnProperty= Object.hasOwnProperty;\r\n  var isArray = Array.isArray ? Array.isArray : function _isArray(obj) {\r\n    return Object.prototype.toString.call(obj) === \"[object Array]\";\r\n  };\r\n  var defaultMaxListeners = 10;\r\n  var nextTickSupported= typeof process=='object' && typeof process.nextTick=='function';\r\n  var symbolsSupported= typeof Symbol==='function';\r\n  var reflectSupported= typeof Reflect === 'object';\r\n  var setImmediateSupported= typeof setImmediate === 'function';\r\n  var _setImmediate= setImmediateSupported ? setImmediate : setTimeout;\r\n  var ownKeys= symbolsSupported? (reflectSupported && typeof Reflect.ownKeys==='function'? Reflect.ownKeys : function(obj){\r\n    var arr= Object.getOwnPropertyNames(obj);\r\n    arr.push.apply(arr, Object.getOwnPropertySymbols(obj));\r\n    return arr;\r\n  }) : Object.keys;\r\n\r\n  function init() {\r\n    this._events = {};\r\n    if (this._conf) {\r\n      configure.call(this, this._conf);\r\n    }\r\n  }\r\n\r\n  function configure(conf) {\r\n    if (conf) {\r\n      this._conf = conf;\r\n\r\n      conf.delimiter && (this.delimiter = conf.delimiter);\r\n\r\n      if(conf.maxListeners!==undefined){\r\n          this._maxListeners= conf.maxListeners;\r\n      }\r\n\r\n      conf.wildcard && (this.wildcard = conf.wildcard);\r\n      conf.newListener && (this._newListener = conf.newListener);\r\n      conf.removeListener && (this._removeListener = conf.removeListener);\r\n      conf.verboseMemoryLeak && (this.verboseMemoryLeak = conf.verboseMemoryLeak);\r\n      conf.ignoreErrors && (this.ignoreErrors = conf.ignoreErrors);\r\n\r\n      if (this.wildcard) {\r\n        this.listenerTree = {};\r\n      }\r\n    }\r\n  }\r\n\r\n  function logPossibleMemoryLeak(count, eventName) {\r\n    var errorMsg = '(node) warning: possible EventEmitter memory ' +\r\n        'leak detected. ' + count + ' listeners added. ' +\r\n        'Use emitter.setMaxListeners() to increase limit.';\r\n\r\n    if(this.verboseMemoryLeak){\r\n      errorMsg += ' Event name: ' + eventName + '.';\r\n    }\r\n\r\n    if(typeof process !== 'undefined' && process.emitWarning){\r\n      var e = new Error(errorMsg);\r\n      e.name = 'MaxListenersExceededWarning';\r\n      e.emitter = this;\r\n      e.count = count;\r\n      process.emitWarning(e);\r\n    } else {\r\n      console.error(errorMsg);\r\n\r\n      if (console.trace){\r\n        console.trace();\r\n      }\r\n    }\r\n  }\r\n\r\n  var toArray = function (a, b, c) {\r\n    var n = arguments.length;\r\n    switch (n) {\r\n      case 0:\r\n        return [];\r\n      case 1:\r\n        return [a];\r\n      case 2:\r\n        return [a, b];\r\n      case 3:\r\n        return [a, b, c];\r\n      default:\r\n        var arr = new Array(n);\r\n        while (n--) {\r\n          arr[n] = arguments[n];\r\n        }\r\n        return arr;\r\n    }\r\n  };\r\n\r\n  function toObject(keys, values) {\r\n    var obj = {};\r\n    var key;\r\n    var len = keys.length;\r\n    var valuesCount = values ? values.length : 0;\r\n    for (var i = 0; i < len; i++) {\r\n      key = keys[i];\r\n      obj[key] = i < valuesCount ? values[i] : undefined;\r\n    }\r\n    return obj;\r\n  }\r\n\r\n  function TargetObserver(emitter, target, options) {\r\n    this._emitter = emitter;\r\n    this._target = target;\r\n    this._listeners = {};\r\n    this._listenersCount = 0;\r\n\r\n    var on, off;\r\n\r\n    if (options.on || options.off) {\r\n      on = options.on;\r\n      off = options.off;\r\n    }\r\n\r\n    if (target.addEventListener) {\r\n      on = target.addEventListener;\r\n      off = target.removeEventListener;\r\n    } else if (target.addListener) {\r\n      on = target.addListener;\r\n      off = target.removeListener;\r\n    } else if (target.on) {\r\n      on = target.on;\r\n      off = target.off;\r\n    }\r\n\r\n    if (!on && !off) {\r\n      throw Error('target does not implement any known event API');\r\n    }\r\n\r\n    if (typeof on !== 'function') {\r\n      throw TypeError('on method must be a function');\r\n    }\r\n\r\n    if (typeof off !== 'function') {\r\n      throw TypeError('off method must be a function');\r\n    }\r\n\r\n    this._on = on;\r\n    this._off = off;\r\n\r\n    var _observers= emitter._observers;\r\n    if(_observers){\r\n      _observers.push(this);\r\n    }else{\r\n      emitter._observers= [this];\r\n    }\r\n  }\r\n\r\n  Object.assign(TargetObserver.prototype, {\r\n    subscribe: function(event, localEvent, reducer){\r\n      var observer= this;\r\n      var target= this._target;\r\n      var emitter= this._emitter;\r\n      var listeners= this._listeners;\r\n      var handler= function(){\r\n        var args= toArray.apply(null, arguments);\r\n        var eventObj= {\r\n          data: args,\r\n          name: localEvent,\r\n          original: event\r\n        };\r\n        if(reducer){\r\n          var result= reducer.call(target, eventObj);\r\n          if(result!==false){\r\n            emitter.emit.apply(emitter, [eventObj.name].concat(args))\r\n          }\r\n          return;\r\n        }\r\n        emitter.emit.apply(emitter, [localEvent].concat(args));\r\n      };\r\n\r\n\r\n      if(listeners[event]){\r\n        throw Error('Event \\'' + event + '\\' is already listening');\r\n      }\r\n\r\n      this._listenersCount++;\r\n\r\n      if(emitter._newListener && emitter._removeListener && !observer._onNewListener){\r\n\r\n        this._onNewListener = function (_event) {\r\n          if (_event === localEvent && listeners[event] === null) {\r\n            listeners[event] = handler;\r\n            observer._on.call(target, event, handler);\r\n          }\r\n        };\r\n\r\n        emitter.on('newListener', this._onNewListener);\r\n\r\n        this._onRemoveListener= function(_event){\r\n          if(_event === localEvent && !emitter.hasListeners(_event) && listeners[event]){\r\n            listeners[event]= null;\r\n            observer._off.call(target, event, handler);\r\n          }\r\n        };\r\n\r\n        listeners[event]= null;\r\n\r\n        emitter.on('removeListener', this._onRemoveListener);\r\n      }else{\r\n        listeners[event]= handler;\r\n        observer._on.call(target, event, handler);\r\n      }\r\n    },\r\n\r\n    unsubscribe: function(event){\r\n      var observer= this;\r\n      var listeners= this._listeners;\r\n      var emitter= this._emitter;\r\n      var handler;\r\n      var events;\r\n      var off= this._off;\r\n      var target= this._target;\r\n      var i;\r\n\r\n      if(event && typeof event!=='string'){\r\n        throw TypeError('event must be a string');\r\n      }\r\n\r\n      function clearRefs(){\r\n        if(observer._onNewListener){\r\n          emitter.off('newListener', observer._onNewListener);\r\n          emitter.off('removeListener', observer._onRemoveListener);\r\n          observer._onNewListener= null;\r\n          observer._onRemoveListener= null;\r\n        }\r\n        var index= findTargetIndex.call(emitter, observer);\r\n        emitter._observers.splice(index, 1);\r\n      }\r\n\r\n      if(event){\r\n        handler= listeners[event];\r\n        if(!handler) return;\r\n        off.call(target, event, handler);\r\n        delete listeners[event];\r\n        if(!--this._listenersCount){\r\n          clearRefs();\r\n        }\r\n      }else{\r\n        events= ownKeys(listeners);\r\n        i= events.length;\r\n        while(i-->0){\r\n          event= events[i];\r\n          off.call(target, event, listeners[event]);\r\n        }\r\n        this._listeners= {};\r\n        this._listenersCount= 0;\r\n        clearRefs();\r\n      }\r\n    }\r\n  });\r\n\r\n  function resolveOptions(options, schema, reducers, allowUnknown) {\r\n    var computedOptions = Object.assign({}, schema);\r\n\r\n    if (!options) return computedOptions;\r\n\r\n    if (typeof options !== 'object') {\r\n      throw TypeError('options must be an object')\r\n    }\r\n\r\n    var keys = Object.keys(options);\r\n    var length = keys.length;\r\n    var option, value;\r\n    var reducer;\r\n\r\n    function reject(reason) {\r\n      throw Error('Invalid \"' + option + '\" option value' + (reason ? '. Reason: ' + reason : ''))\r\n    }\r\n\r\n    for (var i = 0; i < length; i++) {\r\n      option = keys[i];\r\n      if (!allowUnknown && !hasOwnProperty.call(schema, option)) {\r\n        throw Error('Unknown \"' + option + '\" option');\r\n      }\r\n      value = options[option];\r\n      if (value !== undefined) {\r\n        reducer = reducers[option];\r\n        computedOptions[option] = reducer ? reducer(value, reject) : value;\r\n      }\r\n    }\r\n    return computedOptions;\r\n  }\r\n\r\n  function constructorReducer(value, reject) {\r\n    if (typeof value !== 'function' || !value.hasOwnProperty('prototype')) {\r\n      reject('value must be a constructor');\r\n    }\r\n    return value;\r\n  }\r\n\r\n  function makeTypeReducer(types) {\r\n    var message= 'value must be type of ' + types.join('|');\r\n    var len= types.length;\r\n    var firstType= types[0];\r\n    var secondType= types[1];\r\n\r\n    if (len === 1) {\r\n      return function (v, reject) {\r\n        if (typeof v === firstType) {\r\n          return v;\r\n        }\r\n        reject(message);\r\n      }\r\n    }\r\n\r\n    if (len === 2) {\r\n      return function (v, reject) {\r\n        var kind= typeof v;\r\n        if (kind === firstType || kind === secondType) return v;\r\n        reject(message);\r\n      }\r\n    }\r\n\r\n    return function (v, reject) {\r\n      var kind = typeof v;\r\n      var i = len;\r\n      while (i-- > 0) {\r\n        if (kind === types[i]) return v;\r\n      }\r\n      reject(message);\r\n    }\r\n  }\r\n\r\n  var functionReducer= makeTypeReducer(['function']);\r\n\r\n  var objectFunctionReducer= makeTypeReducer(['object', 'function']);\r\n\r\n  function makeCancelablePromise(Promise, executor, options) {\r\n    var isCancelable;\r\n    var callbacks;\r\n    var timer= 0;\r\n    var subscriptionClosed;\r\n\r\n    var promise = new Promise(function (resolve, reject, onCancel) {\r\n      options= resolveOptions(options, {\r\n        timeout: 0,\r\n        overload: false\r\n      }, {\r\n        timeout: function(value, reject){\r\n          value*= 1;\r\n          if (typeof value !== 'number' || value < 0 || !Number.isFinite(value)) {\r\n            reject('timeout must be a positive number');\r\n          }\r\n          return value;\r\n        }\r\n      });\r\n\r\n      isCancelable = !options.overload && typeof Promise.prototype.cancel === 'function' && typeof onCancel === 'function';\r\n\r\n      function cleanup() {\r\n        if (callbacks) {\r\n          callbacks = null;\r\n        }\r\n        if (timer) {\r\n          clearTimeout(timer);\r\n          timer = 0;\r\n        }\r\n      }\r\n\r\n      var _resolve= function(value){\r\n        cleanup();\r\n        resolve(value);\r\n      };\r\n\r\n      var _reject= function(err){\r\n        cleanup();\r\n        reject(err);\r\n      };\r\n\r\n      if (isCancelable) {\r\n        executor(_resolve, _reject, onCancel);\r\n      } else {\r\n        callbacks = [function(reason){\r\n          _reject(reason || Error('canceled'));\r\n        }];\r\n        executor(_resolve, _reject, function (cb) {\r\n          if (subscriptionClosed) {\r\n            throw Error('Unable to subscribe on cancel event asynchronously')\r\n          }\r\n          if (typeof cb !== 'function') {\r\n            throw TypeError('onCancel callback must be a function');\r\n          }\r\n          callbacks.push(cb);\r\n        });\r\n        subscriptionClosed= true;\r\n      }\r\n\r\n      if (options.timeout > 0) {\r\n        timer= setTimeout(function(){\r\n          var reason= Error('timeout');\r\n          reason.code = 'ETIMEDOUT'\r\n          timer= 0;\r\n          promise.cancel(reason);\r\n          reject(reason);\r\n        }, options.timeout);\r\n      }\r\n    });\r\n\r\n    if (!isCancelable) {\r\n      promise.cancel = function (reason) {\r\n        if (!callbacks) {\r\n          return;\r\n        }\r\n        var length = callbacks.length;\r\n        for (var i = 1; i < length; i++) {\r\n          callbacks[i](reason);\r\n        }\r\n        // internal callback to reject the promise\r\n        callbacks[0](reason);\r\n        callbacks = null;\r\n      };\r\n    }\r\n\r\n    return promise;\r\n  }\r\n\r\n  function findTargetIndex(observer) {\r\n    var observers = this._observers;\r\n    if(!observers){\r\n      return -1;\r\n    }\r\n    var len = observers.length;\r\n    for (var i = 0; i < len; i++) {\r\n      if (observers[i]._target === observer) return i;\r\n    }\r\n    return -1;\r\n  }\r\n\r\n  // Attention, function return type now is array, always !\r\n  // It has zero elements if no any matches found and one or more\r\n  // elements (leafs) if there are matches\r\n  //\r\n  function searchListenerTree(handlers, type, tree, i, typeLength) {\r\n    if (!tree) {\r\n      return null;\r\n    }\r\n\r\n    if (i === 0) {\r\n      var kind = typeof type;\r\n      if (kind === 'string') {\r\n        var ns, n, l = 0, j = 0, delimiter = this.delimiter, dl = delimiter.length;\r\n        if ((n = type.indexOf(delimiter)) !== -1) {\r\n          ns = new Array(5);\r\n          do {\r\n            ns[l++] = type.slice(j, n);\r\n            j = n + dl;\r\n          } while ((n = type.indexOf(delimiter, j)) !== -1);\r\n\r\n          ns[l++] = type.slice(j);\r\n          type = ns;\r\n          typeLength = l;\r\n        } else {\r\n          type = [type];\r\n          typeLength = 1;\r\n        }\r\n      } else if (kind === 'object') {\r\n        typeLength = type.length;\r\n      } else {\r\n        type = [type];\r\n        typeLength = 1;\r\n      }\r\n    }\r\n\r\n    var listeners= null, branch, xTree, xxTree, isolatedBranch, endReached, currentType = type[i],\r\n        nextType = type[i + 1], branches, _listeners;\r\n\r\n    if (i === typeLength) {\r\n      //\r\n      // If at the end of the event(s) list and the tree has listeners\r\n      // invoke those listeners.\r\n      //\r\n\r\n      if(tree._listeners) {\r\n        if (typeof tree._listeners === 'function') {\r\n          handlers && handlers.push(tree._listeners);\r\n          listeners = [tree];\r\n        } else {\r\n          handlers && handlers.push.apply(handlers, tree._listeners);\r\n          listeners = [tree];\r\n        }\r\n      }\r\n    } else {\r\n\r\n      if (currentType === '*') {\r\n        //\r\n        // If the event emitted is '*' at this part\r\n        // or there is a concrete match at this patch\r\n        //\r\n        branches = ownKeys(tree);\r\n        n = branches.length;\r\n        while (n-- > 0) {\r\n          branch = branches[n];\r\n          if (branch !== '_listeners') {\r\n            _listeners = searchListenerTree(handlers, type, tree[branch], i + 1, typeLength);\r\n            if (_listeners) {\r\n              if (listeners) {\r\n                listeners.push.apply(listeners, _listeners);\r\n              } else {\r\n                listeners = _listeners;\r\n              }\r\n            }\r\n          }\r\n        }\r\n        return listeners;\r\n      } else if (currentType === '**') {\r\n        endReached = (i + 1 === typeLength || (i + 2 === typeLength && nextType === '*'));\r\n        if (endReached && tree._listeners) {\r\n          // The next element has a _listeners, add it to the handlers.\r\n          listeners = searchListenerTree(handlers, type, tree, typeLength, typeLength);\r\n        }\r\n\r\n        branches = ownKeys(tree);\r\n        n = branches.length;\r\n        while (n-- > 0) {\r\n          branch = branches[n];\r\n          if (branch !== '_listeners') {\r\n            if (branch === '*' || branch === '**') {\r\n              if (tree[branch]._listeners && !endReached) {\r\n                _listeners = searchListenerTree(handlers, type, tree[branch], typeLength, typeLength);\r\n                if (_listeners) {\r\n                  if (listeners) {\r\n                    listeners.push.apply(listeners, _listeners);\r\n                  } else {\r\n                    listeners = _listeners;\r\n                  }\r\n                }\r\n              }\r\n              _listeners = searchListenerTree(handlers, type, tree[branch], i, typeLength);\r\n            } else if (branch === nextType) {\r\n              _listeners = searchListenerTree(handlers, type, tree[branch], i + 2, typeLength);\r\n            } else {\r\n              // No match on this one, shift into the tree but not in the type array.\r\n              _listeners = searchListenerTree(handlers, type, tree[branch], i, typeLength);\r\n            }\r\n            if (_listeners) {\r\n              if (listeners) {\r\n                listeners.push.apply(listeners, _listeners);\r\n              } else {\r\n                listeners = _listeners;\r\n              }\r\n            }\r\n          }\r\n        }\r\n        return listeners;\r\n      } else if (tree[currentType]) {\r\n        listeners = searchListenerTree(handlers, type, tree[currentType], i + 1, typeLength);\r\n      }\r\n    }\r\n\r\n      xTree = tree['*'];\r\n    if (xTree) {\r\n      //\r\n      // If the listener tree will allow any match for this part,\r\n      // then recursively explore all branches of the tree\r\n      //\r\n      searchListenerTree(handlers, type, xTree, i + 1, typeLength);\r\n    }\r\n\r\n    xxTree = tree['**'];\r\n    if (xxTree) {\r\n      if (i < typeLength) {\r\n        if (xxTree._listeners) {\r\n          // If we have a listener on a '**', it will catch all, so add its handler.\r\n          searchListenerTree(handlers, type, xxTree, typeLength, typeLength);\r\n        }\r\n\r\n        // Build arrays of matching next branches and others.\r\n        branches= ownKeys(xxTree);\r\n        n= branches.length;\r\n        while(n-->0){\r\n          branch= branches[n];\r\n          if (branch !== '_listeners') {\r\n            if (branch === nextType) {\r\n              // We know the next element will match, so jump twice.\r\n              searchListenerTree(handlers, type, xxTree[branch], i + 2, typeLength);\r\n            } else if (branch === currentType) {\r\n              // Current node matches, move into the tree.\r\n              searchListenerTree(handlers, type, xxTree[branch], i + 1, typeLength);\r\n            } else {\r\n              isolatedBranch = {};\r\n              isolatedBranch[branch] = xxTree[branch];\r\n              searchListenerTree(handlers, type, {'**': isolatedBranch}, i + 1, typeLength);\r\n            }\r\n          }\r\n        }\r\n      } else if (xxTree._listeners) {\r\n        // We have reached the end and still on a '**'\r\n        searchListenerTree(handlers, type, xxTree, typeLength, typeLength);\r\n      } else if (xxTree['*'] && xxTree['*']._listeners) {\r\n        searchListenerTree(handlers, type, xxTree['*'], typeLength, typeLength);\r\n      }\r\n    }\r\n\r\n    return listeners;\r\n  }\r\n\r\n  function growListenerTree(type, listener, prepend) {\r\n    var len = 0, j = 0, i, delimiter = this.delimiter, dl= delimiter.length, ns;\r\n\r\n    if(typeof type==='string') {\r\n      if ((i = type.indexOf(delimiter)) !== -1) {\r\n        ns = new Array(5);\r\n        do {\r\n          ns[len++] = type.slice(j, i);\r\n          j = i + dl;\r\n        } while ((i = type.indexOf(delimiter, j)) !== -1);\r\n\r\n        ns[len++] = type.slice(j);\r\n      }else{\r\n        ns= [type];\r\n        len= 1;\r\n      }\r\n    }else{\r\n      ns= type;\r\n      len= type.length;\r\n    }\r\n\r\n    //\r\n    // Looks for two consecutive '**', if so, don't add the event at all.\r\n    //\r\n    if (len > 1) {\r\n      for (i = 0; i + 1 < len; i++) {\r\n        if (ns[i] === '**' && ns[i + 1] === '**') {\r\n          return;\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n\r\n    var tree = this.listenerTree, name;\r\n\r\n    for (i = 0; i < len; i++) {\r\n      name = ns[i];\r\n\r\n      tree = tree[name] || (tree[name] = {});\r\n\r\n      if (i === len - 1) {\r\n        if (!tree._listeners) {\r\n          tree._listeners = listener;\r\n        } else {\r\n          if (typeof tree._listeners === 'function') {\r\n            tree._listeners = [tree._listeners];\r\n          }\r\n\r\n          if (prepend) {\r\n            tree._listeners.unshift(listener);\r\n          } else {\r\n            tree._listeners.push(listener);\r\n          }\r\n\r\n          if (\r\n              !tree._listeners.warned &&\r\n              this._maxListeners > 0 &&\r\n              tree._listeners.length > this._maxListeners\r\n          ) {\r\n            tree._listeners.warned = true;\r\n            logPossibleMemoryLeak.call(this, tree._listeners.length, name);\r\n          }\r\n        }\r\n        return true;\r\n      }\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  function collectTreeEvents(tree, events, root, asArray){\r\n     var branches= ownKeys(tree);\r\n     var i= branches.length;\r\n     var branch, branchName, path;\r\n     var hasListeners= tree['_listeners'];\r\n     var isArrayPath;\r\n\r\n     while(i-->0){\r\n         branchName= branches[i];\r\n\r\n         branch= tree[branchName];\r\n\r\n         if(branchName==='_listeners'){\r\n             path= root;\r\n         }else {\r\n             path = root ? root.concat(branchName) : [branchName];\r\n         }\r\n\r\n         isArrayPath= asArray || typeof branchName==='symbol';\r\n\r\n         hasListeners && events.push(isArrayPath? path : path.join(this.delimiter));\r\n\r\n         if(typeof branch==='object'){\r\n             collectTreeEvents.call(this, branch, events, path, isArrayPath);\r\n         }\r\n     }\r\n\r\n     return events;\r\n  }\r\n\r\n  function recursivelyGarbageCollect(root) {\r\n    var keys = ownKeys(root);\r\n    var i= keys.length;\r\n    var obj, key, flag;\r\n    while(i-->0){\r\n      key = keys[i];\r\n      obj = root[key];\r\n\r\n      if(obj){\r\n          flag= true;\r\n          if(key !== '_listeners' && !recursivelyGarbageCollect(obj)){\r\n             delete root[key];\r\n          }\r\n      }\r\n    }\r\n\r\n    return flag;\r\n  }\r\n\r\n  function Listener(emitter, event, listener){\r\n    this.emitter= emitter;\r\n    this.event= event;\r\n    this.listener= listener;\r\n  }\r\n\r\n  Listener.prototype.off= function(){\r\n    this.emitter.off(this.event, this.listener);\r\n    return this;\r\n  };\r\n\r\n  function setupListener(event, listener, options){\r\n      if (options === true) {\r\n        promisify = true;\r\n      } else if (options === false) {\r\n        async = true;\r\n      } else {\r\n        if (!options || typeof options !== 'object') {\r\n          throw TypeError('options should be an object or true');\r\n        }\r\n        var async = options.async;\r\n        var promisify = options.promisify;\r\n        var nextTick = options.nextTick;\r\n        var objectify = options.objectify;\r\n      }\r\n\r\n      if (async || nextTick || promisify) {\r\n        var _listener = listener;\r\n        var _origin = listener._origin || listener;\r\n\r\n        if (nextTick && !nextTickSupported) {\r\n          throw Error('process.nextTick is not supported');\r\n        }\r\n\r\n        if (promisify === undefined) {\r\n          promisify = listener.constructor.name === 'AsyncFunction';\r\n        }\r\n\r\n        listener = function () {\r\n          var args = arguments;\r\n          var context = this;\r\n          var event = this.event;\r\n\r\n          return promisify ? (nextTick ? Promise.resolve() : new Promise(function (resolve) {\r\n            _setImmediate(resolve);\r\n          }).then(function () {\r\n            context.event = event;\r\n            return _listener.apply(context, args)\r\n          })) : (nextTick ? process.nextTick : _setImmediate)(function () {\r\n            context.event = event;\r\n            _listener.apply(context, args)\r\n          });\r\n        };\r\n\r\n        listener._async = true;\r\n        listener._origin = _origin;\r\n      }\r\n\r\n    return [listener, objectify? new Listener(this, event, listener): this];\r\n  }\r\n\r\n  function EventEmitter(conf) {\r\n    this._events = {};\r\n    this._newListener = false;\r\n    this._removeListener = false;\r\n    this.verboseMemoryLeak = false;\r\n    configure.call(this, conf);\r\n  }\r\n\r\n  EventEmitter.EventEmitter2 = EventEmitter; // backwards compatibility for exporting EventEmitter property\r\n\r\n  EventEmitter.prototype.listenTo= function(target, events, options){\r\n    if(typeof target!=='object'){\r\n      throw TypeError('target musts be an object');\r\n    }\r\n\r\n    var emitter= this;\r\n\r\n    options = resolveOptions(options, {\r\n      on: undefined,\r\n      off: undefined,\r\n      reducers: undefined\r\n    }, {\r\n      on: functionReducer,\r\n      off: functionReducer,\r\n      reducers: objectFunctionReducer\r\n    });\r\n\r\n    function listen(events){\r\n      if(typeof events!=='object'){\r\n        throw TypeError('events must be an object');\r\n      }\r\n\r\n      var reducers= options.reducers;\r\n      var index= findTargetIndex.call(emitter, target);\r\n      var observer;\r\n\r\n      if(index===-1){\r\n        observer= new TargetObserver(emitter, target, options);\r\n      }else{\r\n        observer= emitter._observers[index];\r\n      }\r\n\r\n      var keys= ownKeys(events);\r\n      var len= keys.length;\r\n      var event;\r\n      var isSingleReducer= typeof reducers==='function';\r\n\r\n      for(var i=0; i<len; i++){\r\n        event= keys[i];\r\n        observer.subscribe(\r\n            event,\r\n            events[event] || event,\r\n            isSingleReducer ? reducers : reducers && reducers[event]\r\n        );\r\n      }\r\n    }\r\n\r\n    isArray(events)?\r\n        listen(toObject(events)) :\r\n        (typeof events==='string'? listen(toObject(events.split(/\\s+/))): listen(events));\r\n\r\n    return this;\r\n  };\r\n\r\n  EventEmitter.prototype.stopListeningTo = function (target, event) {\r\n    var observers = this._observers;\r\n\r\n    if(!observers){\r\n      return false;\r\n    }\r\n\r\n    var i = observers.length;\r\n    var observer;\r\n    var matched= false;\r\n\r\n    if(target && typeof target!=='object'){\r\n      throw TypeError('target should be an object');\r\n    }\r\n\r\n    while (i-- > 0) {\r\n      observer = observers[i];\r\n      if (!target || observer._target === target) {\r\n        observer.unsubscribe(event);\r\n        matched= true;\r\n      }\r\n    }\r\n\r\n    return matched;\r\n  };\r\n\r\n  // By default EventEmitters will print a warning if more than\r\n  // 10 listeners are added to it. This is a useful default which\r\n  // helps finding memory leaks.\r\n  //\r\n  // Obviously not all Emitters should be limited to 10. This function allows\r\n  // that to be increased. Set to zero for unlimited.\r\n\r\n  EventEmitter.prototype.delimiter = '.';\r\n\r\n  EventEmitter.prototype.setMaxListeners = function(n) {\r\n    if (n !== undefined) {\r\n      this._maxListeners = n;\r\n      if (!this._conf) this._conf = {};\r\n      this._conf.maxListeners = n;\r\n    }\r\n  };\r\n\r\n  EventEmitter.prototype.getMaxListeners = function() {\r\n    return this._maxListeners;\r\n  };\r\n\r\n  EventEmitter.prototype.event = '';\r\n\r\n  EventEmitter.prototype.once = function(event, fn, options) {\r\n    return this._once(event, fn, false, options);\r\n  };\r\n\r\n  EventEmitter.prototype.prependOnceListener = function(event, fn, options) {\r\n    return this._once(event, fn, true, options);\r\n  };\r\n\r\n  EventEmitter.prototype._once = function(event, fn, prepend, options) {\r\n    return this._many(event, 1, fn, prepend, options);\r\n  };\r\n\r\n  EventEmitter.prototype.many = function(event, ttl, fn, options) {\r\n    return this._many(event, ttl, fn, false, options);\r\n  };\r\n\r\n  EventEmitter.prototype.prependMany = function(event, ttl, fn, options) {\r\n    return this._many(event, ttl, fn, true, options);\r\n  };\r\n\r\n  EventEmitter.prototype._many = function(event, ttl, fn, prepend, options) {\r\n    var self = this;\r\n\r\n    if (typeof fn !== 'function') {\r\n      throw new Error('many only accepts instances of Function');\r\n    }\r\n\r\n    function listener() {\r\n      if (--ttl === 0) {\r\n        self.off(event, listener);\r\n      }\r\n      return fn.apply(this, arguments);\r\n    }\r\n\r\n    listener._origin = fn;\r\n\r\n    return this._on(event, listener, prepend, options);\r\n  };\r\n\r\n  EventEmitter.prototype.emit = function() {\r\n    if (!this._events && !this._all) {\r\n      return false;\r\n    }\r\n\r\n    this._events || init.call(this);\r\n\r\n    var type = arguments[0], ns, wildcard= this.wildcard;\r\n    var args,l,i,j, containsSymbol;\r\n\r\n    if (type === 'newListener' && !this._newListener) {\r\n      if (!this._events.newListener) {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    if (wildcard) {\r\n      ns= type;\r\n      if(type!=='newListener' && type!=='removeListener'){\r\n        if (typeof type === 'object') {\r\n          l = type.length;\r\n          if (symbolsSupported) {\r\n            for (i = 0; i < l; i++) {\r\n              if (typeof type[i] === 'symbol') {\r\n                containsSymbol = true;\r\n                break;\r\n              }\r\n            }\r\n          }\r\n          if (!containsSymbol) {\r\n            type = type.join(this.delimiter);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    var al = arguments.length;\r\n    var handler;\r\n\r\n    if (this._all && this._all.length) {\r\n      handler = this._all.slice();\r\n\r\n      for (i = 0, l = handler.length; i < l; i++) {\r\n        this.event = type;\r\n        switch (al) {\r\n        case 1:\r\n          handler[i].call(this, type);\r\n          break;\r\n        case 2:\r\n          handler[i].call(this, type, arguments[1]);\r\n          break;\r\n        case 3:\r\n          handler[i].call(this, type, arguments[1], arguments[2]);\r\n          break;\r\n        default:\r\n          handler[i].apply(this, arguments);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (wildcard) {\r\n      handler = [];\r\n      searchListenerTree.call(this, handler, ns, this.listenerTree, 0, l);\r\n    } else {\r\n      handler = this._events[type];\r\n      if (typeof handler === 'function') {\r\n        this.event = type;\r\n        switch (al) {\r\n        case 1:\r\n          handler.call(this);\r\n          break;\r\n        case 2:\r\n          handler.call(this, arguments[1]);\r\n          break;\r\n        case 3:\r\n          handler.call(this, arguments[1], arguments[2]);\r\n          break;\r\n        default:\r\n          args = new Array(al - 1);\r\n          for (j = 1; j < al; j++) args[j - 1] = arguments[j];\r\n          handler.apply(this, args);\r\n        }\r\n        return true;\r\n      } else if (handler) {\r\n        // need to make copy of handlers because list can change in the middle\r\n        // of emit call\r\n        handler = handler.slice();\r\n      }\r\n    }\r\n\r\n    if (handler && handler.length) {\r\n      if (al > 3) {\r\n        args = new Array(al - 1);\r\n        for (j = 1; j < al; j++) args[j - 1] = arguments[j];\r\n      }\r\n      for (i = 0, l = handler.length; i < l; i++) {\r\n        this.event = type;\r\n        switch (al) {\r\n        case 1:\r\n          handler[i].call(this);\r\n          break;\r\n        case 2:\r\n          handler[i].call(this, arguments[1]);\r\n          break;\r\n        case 3:\r\n          handler[i].call(this, arguments[1], arguments[2]);\r\n          break;\r\n        default:\r\n          handler[i].apply(this, args);\r\n        }\r\n      }\r\n      return true;\r\n    } else if (!this.ignoreErrors && !this._all && type === 'error') {\r\n      if (arguments[1] instanceof Error) {\r\n        throw arguments[1]; // Unhandled 'error' event\r\n      } else {\r\n        throw new Error(\"Uncaught, unspecified 'error' event.\");\r\n      }\r\n    }\r\n\r\n    return !!this._all;\r\n  };\r\n\r\n  EventEmitter.prototype.emitAsync = function() {\r\n    if (!this._events && !this._all) {\r\n      return false;\r\n    }\r\n\r\n    this._events || init.call(this);\r\n\r\n    var type = arguments[0], wildcard= this.wildcard, ns, containsSymbol;\r\n    var args,l,i,j;\r\n\r\n    if (type === 'newListener' && !this._newListener) {\r\n        if (!this._events.newListener) { return Promise.resolve([false]); }\r\n    }\r\n\r\n    if (wildcard) {\r\n      ns= type;\r\n      if(type!=='newListener' && type!=='removeListener'){\r\n        if (typeof type === 'object') {\r\n          l = type.length;\r\n          if (symbolsSupported) {\r\n            for (i = 0; i < l; i++) {\r\n              if (typeof type[i] === 'symbol') {\r\n                containsSymbol = true;\r\n                break;\r\n              }\r\n            }\r\n          }\r\n          if (!containsSymbol) {\r\n            type = type.join(this.delimiter);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    var promises= [];\r\n\r\n    var al = arguments.length;\r\n    var handler;\r\n\r\n    if (this._all) {\r\n      for (i = 0, l = this._all.length; i < l; i++) {\r\n        this.event = type;\r\n        switch (al) {\r\n        case 1:\r\n          promises.push(this._all[i].call(this, type));\r\n          break;\r\n        case 2:\r\n          promises.push(this._all[i].call(this, type, arguments[1]));\r\n          break;\r\n        case 3:\r\n          promises.push(this._all[i].call(this, type, arguments[1], arguments[2]));\r\n          break;\r\n        default:\r\n          promises.push(this._all[i].apply(this, arguments));\r\n        }\r\n      }\r\n    }\r\n\r\n    if (wildcard) {\r\n      handler = [];\r\n      searchListenerTree.call(this, handler, ns, this.listenerTree, 0);\r\n    } else {\r\n      handler = this._events[type];\r\n    }\r\n\r\n    if (typeof handler === 'function') {\r\n      this.event = type;\r\n      switch (al) {\r\n      case 1:\r\n        promises.push(handler.call(this));\r\n        break;\r\n      case 2:\r\n        promises.push(handler.call(this, arguments[1]));\r\n        break;\r\n      case 3:\r\n        promises.push(handler.call(this, arguments[1], arguments[2]));\r\n        break;\r\n      default:\r\n        args = new Array(al - 1);\r\n        for (j = 1; j < al; j++) args[j - 1] = arguments[j];\r\n        promises.push(handler.apply(this, args));\r\n      }\r\n    } else if (handler && handler.length) {\r\n      handler = handler.slice();\r\n      if (al > 3) {\r\n        args = new Array(al - 1);\r\n        for (j = 1; j < al; j++) args[j - 1] = arguments[j];\r\n      }\r\n      for (i = 0, l = handler.length; i < l; i++) {\r\n        this.event = type;\r\n        switch (al) {\r\n        case 1:\r\n          promises.push(handler[i].call(this));\r\n          break;\r\n        case 2:\r\n          promises.push(handler[i].call(this, arguments[1]));\r\n          break;\r\n        case 3:\r\n          promises.push(handler[i].call(this, arguments[1], arguments[2]));\r\n          break;\r\n        default:\r\n          promises.push(handler[i].apply(this, args));\r\n        }\r\n      }\r\n    } else if (!this.ignoreErrors && !this._all && type === 'error') {\r\n      if (arguments[1] instanceof Error) {\r\n        return Promise.reject(arguments[1]); // Unhandled 'error' event\r\n      } else {\r\n        return Promise.reject(\"Uncaught, unspecified 'error' event.\");\r\n      }\r\n    }\r\n\r\n    return Promise.all(promises);\r\n  };\r\n\r\n  EventEmitter.prototype.on = function(type, listener, options) {\r\n    return this._on(type, listener, false, options);\r\n  };\r\n\r\n  EventEmitter.prototype.prependListener = function(type, listener, options) {\r\n    return this._on(type, listener, true, options);\r\n  };\r\n\r\n  EventEmitter.prototype.onAny = function(fn) {\r\n    return this._onAny(fn, false);\r\n  };\r\n\r\n  EventEmitter.prototype.prependAny = function(fn) {\r\n    return this._onAny(fn, true);\r\n  };\r\n\r\n  EventEmitter.prototype.addListener = EventEmitter.prototype.on;\r\n\r\n  EventEmitter.prototype._onAny = function(fn, prepend){\r\n    if (typeof fn !== 'function') {\r\n      throw new Error('onAny only accepts instances of Function');\r\n    }\r\n\r\n    if (!this._all) {\r\n      this._all = [];\r\n    }\r\n\r\n    // Add the function to the event listener collection.\r\n    if(prepend){\r\n      this._all.unshift(fn);\r\n    }else{\r\n      this._all.push(fn);\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  EventEmitter.prototype._on = function(type, listener, prepend, options) {\r\n    if (typeof type === 'function') {\r\n      this._onAny(type, listener);\r\n      return this;\r\n    }\r\n\r\n    if (typeof listener !== 'function') {\r\n      throw new Error('on only accepts instances of Function');\r\n    }\r\n    this._events || init.call(this);\r\n\r\n    var returnValue= this, temp;\r\n\r\n    if (options !== undefined) {\r\n      temp = setupListener.call(this, type, listener, options);\r\n      listener = temp[0];\r\n      returnValue = temp[1];\r\n    }\r\n\r\n    // To avoid recursion in the case that type == \"newListeners\"! Before\r\n    // adding it to the listeners, first emit \"newListeners\".\r\n    if (this._newListener) {\r\n      this.emit('newListener', type, listener);\r\n    }\r\n\r\n    if (this.wildcard) {\r\n      growListenerTree.call(this, type, listener, prepend);\r\n      return returnValue;\r\n    }\r\n\r\n    if (!this._events[type]) {\r\n      // Optimize the case of one listener. Don't need the extra array object.\r\n      this._events[type] = listener;\r\n    } else {\r\n      if (typeof this._events[type] === 'function') {\r\n        // Change to array.\r\n        this._events[type] = [this._events[type]];\r\n      }\r\n\r\n      // If we've already got an array, just add\r\n      if(prepend){\r\n        this._events[type].unshift(listener);\r\n      }else{\r\n        this._events[type].push(listener);\r\n      }\r\n\r\n      // Check for listener leak\r\n      if (\r\n        !this._events[type].warned &&\r\n        this._maxListeners > 0 &&\r\n        this._events[type].length > this._maxListeners\r\n      ) {\r\n        this._events[type].warned = true;\r\n        logPossibleMemoryLeak.call(this, this._events[type].length, type);\r\n      }\r\n    }\r\n\r\n    return returnValue;\r\n  };\r\n\r\n  EventEmitter.prototype.off = function(type, listener) {\r\n    if (typeof listener !== 'function') {\r\n      throw new Error('removeListener only takes instances of Function');\r\n    }\r\n\r\n    var handlers,leafs=[];\r\n\r\n    if(this.wildcard) {\r\n      var ns = typeof type === 'string' ? type.split(this.delimiter) : type.slice();\r\n      leafs = searchListenerTree.call(this, null, ns, this.listenerTree, 0);\r\n      if(!leafs) return this;\r\n    } else {\r\n      // does not use listeners(), so no side effect of creating _events[type]\r\n      if (!this._events[type]) return this;\r\n      handlers = this._events[type];\r\n      leafs.push({_listeners:handlers});\r\n    }\r\n\r\n    for (var iLeaf=0; iLeaf<leafs.length; iLeaf++) {\r\n      var leaf = leafs[iLeaf];\r\n      handlers = leaf._listeners;\r\n      if (isArray(handlers)) {\r\n\r\n        var position = -1;\r\n\r\n        for (var i = 0, length = handlers.length; i < length; i++) {\r\n          if (handlers[i] === listener ||\r\n            (handlers[i].listener && handlers[i].listener === listener) ||\r\n            (handlers[i]._origin && handlers[i]._origin === listener)) {\r\n            position = i;\r\n            break;\r\n          }\r\n        }\r\n\r\n        if (position < 0) {\r\n          continue;\r\n        }\r\n\r\n        if(this.wildcard) {\r\n          leaf._listeners.splice(position, 1);\r\n        }\r\n        else {\r\n          this._events[type].splice(position, 1);\r\n        }\r\n\r\n        if (handlers.length === 0) {\r\n          if(this.wildcard) {\r\n            delete leaf._listeners;\r\n          }\r\n          else {\r\n            delete this._events[type];\r\n          }\r\n        }\r\n        if (this._removeListener)\r\n          this.emit(\"removeListener\", type, listener);\r\n\r\n        return this;\r\n      }\r\n      else if (handlers === listener ||\r\n        (handlers.listener && handlers.listener === listener) ||\r\n        (handlers._origin && handlers._origin === listener)) {\r\n        if(this.wildcard) {\r\n          delete leaf._listeners;\r\n        }\r\n        else {\r\n          delete this._events[type];\r\n        }\r\n        if (this._removeListener)\r\n          this.emit(\"removeListener\", type, listener);\r\n      }\r\n    }\r\n\r\n    this.listenerTree && recursivelyGarbageCollect(this.listenerTree);\r\n\r\n    return this;\r\n  };\r\n\r\n  EventEmitter.prototype.offAny = function(fn) {\r\n    var i = 0, l = 0, fns;\r\n    if (fn && this._all && this._all.length > 0) {\r\n      fns = this._all;\r\n      for(i = 0, l = fns.length; i < l; i++) {\r\n        if(fn === fns[i]) {\r\n          fns.splice(i, 1);\r\n          if (this._removeListener)\r\n            this.emit(\"removeListenerAny\", fn);\r\n          return this;\r\n        }\r\n      }\r\n    } else {\r\n      fns = this._all;\r\n      if (this._removeListener) {\r\n        for(i = 0, l = fns.length; i < l; i++)\r\n          this.emit(\"removeListenerAny\", fns[i]);\r\n      }\r\n      this._all = [];\r\n    }\r\n    return this;\r\n  };\r\n\r\n  EventEmitter.prototype.removeListener = EventEmitter.prototype.off;\r\n\r\n  EventEmitter.prototype.removeAllListeners = function (type) {\r\n    if (type === undefined) {\r\n      !this._events || init.call(this);\r\n      return this;\r\n    }\r\n\r\n    if (this.wildcard) {\r\n      var leafs = searchListenerTree.call(this, null, type, this.listenerTree, 0), leaf, i;\r\n      if (!leafs) return this;\r\n      for (i = 0; i < leafs.length; i++) {\r\n        leaf = leafs[i];\r\n        leaf._listeners = null;\r\n      }\r\n      this.listenerTree && recursivelyGarbageCollect(this.listenerTree);\r\n    } else if (this._events) {\r\n      this._events[type] = null;\r\n    }\r\n    return this;\r\n  };\r\n\r\n  EventEmitter.prototype.listeners = function (type) {\r\n    var _events = this._events;\r\n    var keys, listeners, allListeners;\r\n    var i;\r\n    var listenerTree;\r\n\r\n    if (type === undefined) {\r\n      if (this.wildcard) {\r\n        throw Error('event name required for wildcard emitter');\r\n      }\r\n\r\n      if (!_events) {\r\n        return [];\r\n      }\r\n\r\n      keys = ownKeys(_events);\r\n      i = keys.length;\r\n      allListeners = [];\r\n      while (i-- > 0) {\r\n        listeners = _events[keys[i]];\r\n        if (typeof listeners === 'function') {\r\n          allListeners.push(listeners);\r\n        } else {\r\n          allListeners.push.apply(allListeners, listeners);\r\n        }\r\n      }\r\n      return allListeners;\r\n    } else {\r\n      if (this.wildcard) {\r\n        listenerTree= this.listenerTree;\r\n        if(!listenerTree) return [];\r\n        var handlers = [];\r\n        var ns = typeof type === 'string' ? type.split(this.delimiter) : type.slice();\r\n        searchListenerTree.call(this, handlers, ns, listenerTree, 0);\r\n        return handlers;\r\n      }\r\n\r\n      if (!_events) {\r\n        return [];\r\n      }\r\n\r\n      listeners = _events[type];\r\n\r\n      if (!listeners) {\r\n        return [];\r\n      }\r\n      return typeof listeners === 'function' ? [listeners] : listeners;\r\n    }\r\n  };\r\n\r\n  EventEmitter.prototype.eventNames = function(nsAsArray){\r\n    var _events= this._events;\r\n    return this.wildcard? collectTreeEvents.call(this, this.listenerTree, [], null, nsAsArray) : (_events? ownKeys(_events) : []);\r\n  };\r\n\r\n  EventEmitter.prototype.listenerCount = function(type) {\r\n    return this.listeners(type).length;\r\n  };\r\n\r\n  EventEmitter.prototype.hasListeners = function (type) {\r\n    if (this.wildcard) {\r\n      var handlers = [];\r\n      var ns = typeof type === 'string' ? type.split(this.delimiter) : type.slice();\r\n      searchListenerTree.call(this, handlers, ns, this.listenerTree, 0);\r\n      return handlers.length > 0;\r\n    }\r\n\r\n    var _events = this._events;\r\n    var _all = this._all;\r\n\r\n    return !!(_all && _all.length || _events && (type === undefined ? ownKeys(_events).length : _events[type]));\r\n  };\r\n\r\n  EventEmitter.prototype.listenersAny = function() {\r\n\r\n    if(this._all) {\r\n      return this._all;\r\n    }\r\n    else {\r\n      return [];\r\n    }\r\n\r\n  };\r\n\r\n  EventEmitter.prototype.waitFor = function (event, options) {\r\n    var self = this;\r\n    var type = typeof options;\r\n    if (type === 'number') {\r\n      options = {timeout: options};\r\n    } else if (type === 'function') {\r\n      options = {filter: options};\r\n    }\r\n\r\n    options= resolveOptions(options, {\r\n      timeout: 0,\r\n      filter: undefined,\r\n      handleError: false,\r\n      Promise: Promise,\r\n      overload: false\r\n    }, {\r\n      filter: functionReducer,\r\n      Promise: constructorReducer\r\n    });\r\n\r\n    return makeCancelablePromise(options.Promise, function (resolve, reject, onCancel) {\r\n      function listener() {\r\n        var filter= options.filter;\r\n        if (filter && !filter.apply(self, arguments)) {\r\n          return;\r\n        }\r\n        self.off(event, listener);\r\n        if (options.handleError) {\r\n          var err = arguments[0];\r\n          err ? reject(err) : resolve(toArray.apply(null, arguments).slice(1));\r\n        } else {\r\n          resolve(toArray.apply(null, arguments));\r\n        }\r\n      }\r\n\r\n      onCancel(function(){\r\n        self.off(event, listener);\r\n      });\r\n\r\n      self._on(event, listener, false);\r\n    }, {\r\n      timeout: options.timeout,\r\n      overload: options.overload\r\n    })\r\n  };\r\n\r\n  function once(emitter, name, options) {\r\n    options= resolveOptions(options, {\r\n      Promise: Promise,\r\n      timeout: 0,\r\n      overload: false\r\n    }, {\r\n      Promise: constructorReducer\r\n    });\r\n\r\n    var _Promise= options.Promise;\r\n\r\n    return makeCancelablePromise(_Promise, function(resolve, reject, onCancel){\r\n      var handler;\r\n      if (typeof emitter.addEventListener === 'function') {\r\n        handler=  function () {\r\n          resolve(toArray.apply(null, arguments));\r\n        };\r\n\r\n        onCancel(function(){\r\n          emitter.removeEventListener(name, handler);\r\n        });\r\n\r\n        emitter.addEventListener(\r\n            name,\r\n            handler,\r\n            {once: true}\r\n        );\r\n        return;\r\n      }\r\n\r\n      var eventListener = function(){\r\n        errorListener && emitter.removeListener('error', errorListener);\r\n        resolve(toArray.apply(null, arguments));\r\n      };\r\n\r\n      var errorListener;\r\n\r\n      if (name !== 'error') {\r\n        errorListener = function (err){\r\n          emitter.removeListener(name, eventListener);\r\n          reject(err);\r\n        };\r\n\r\n        emitter.once('error', errorListener);\r\n      }\r\n\r\n      onCancel(function(){\r\n        errorListener && emitter.removeListener('error', errorListener);\r\n        emitter.removeListener(name, eventListener);\r\n      });\r\n\r\n      emitter.once(name, eventListener);\r\n    }, {\r\n      timeout: options.timeout,\r\n      overload: options.overload\r\n    });\r\n  }\r\n\r\n  var prototype= EventEmitter.prototype;\r\n\r\n  Object.defineProperties(EventEmitter, {\r\n    defaultMaxListeners: {\r\n      get: function () {\r\n        return prototype._maxListeners;\r\n      },\r\n      set: function (n) {\r\n        if (typeof n !== 'number' || n < 0 || Number.isNaN(n)) {\r\n          throw TypeError('n must be a non-negative number')\r\n        }\r\n        prototype._maxListeners = n;\r\n      },\r\n      enumerable: true\r\n    },\r\n    once: {\r\n      value: once,\r\n      writable: true,\r\n      configurable: true\r\n    }\r\n  });\r\n\r\n  Object.defineProperties(prototype, {\r\n      _maxListeners: {\r\n          value: defaultMaxListeners,\r\n          writable: true,\r\n          configurable: true\r\n      },\r\n      _observers: {value: null, writable: true, configurable: true}\r\n  });\r\n\r\n  if (typeof define === 'function' && define.amd) {\r\n     // AMD. Register as an anonymous module.\r\n    define(function() {\r\n      return EventEmitter;\r\n    });\r\n  } else if (typeof exports === 'object') {\r\n    // CommonJS\r\n    module.exports = EventEmitter;\r\n  }\r\n  else {\r\n    // global for any kind of environment.\r\n    var _global= new Function('','return this')();\r\n    _global.EventEmitter2 = EventEmitter;\r\n  }\r\n}();\r\n", "/**\r\n * @fileOverview\r\n * @author Brandon Alexander - baalexander@gmail.com\r\n */\r\n\r\nvar ServiceResponse = require('./ServiceResponse');\r\nvar ServiceRequest = require('./ServiceRequest');\r\nvar EventEmitter2 = require('eventemitter2').EventEmitter2;\r\n\r\n/**\r\n * A ROS service client.\r\n *\r\n * @constructor\r\n * @param {Object} options\r\n * @param {Ros} options.ros - The ROSLIB.Ros connection handle.\r\n * @param {string} options.name - The service name, like '/add_two_ints'.\r\n * @param {string} options.serviceType - The service type, like 'rospy_tutorials/AddTwoInts'.\r\n */\r\nfunction Service(options) {\r\n  options = options || {};\r\n  this.ros = options.ros;\r\n  this.name = options.name;\r\n  this.serviceType = options.serviceType;\r\n  this.isAdvertised = false;\r\n\r\n  this._serviceCallback = null;\r\n}\r\nService.prototype.__proto__ = EventEmitter2.prototype;\r\n/**\r\n * Call the service. Returns the service response in the\r\n * callback. Does nothing if this service is currently advertised.\r\n *\r\n * @param {ServiceRequest} request - The ROSLIB.ServiceRequest to send.\r\n * @param {function} callback - Function with the following params:\r\n * @param {Object} callback.response - The response from the service request.\r\n * @param {function} [failedCallback] - The callback function when the service call failed with params:\r\n * @param {string} failedCallback.error - The error message reported by ROS.\r\n */\r\nService.prototype.callService = function(request, callback, failedCallback) {\r\n  if (this.isAdvertised) {\r\n    return;\r\n  }\r\n\r\n  var serviceCallId = 'call_service:' + this.name + ':' + (++this.ros.idCounter);\r\n\r\n  if (callback || failedCallback) {\r\n    this.ros.once(serviceCallId, function(message) {\r\n      if (message.result !== undefined && message.result === false) {\r\n        if (typeof failedCallback === 'function') {\r\n          failedCallback(message.values);\r\n        }\r\n      } else if (typeof callback === 'function') {\r\n        callback(new ServiceResponse(message.values));\r\n      }\r\n    });\r\n  }\r\n\r\n  var call = {\r\n    op : 'call_service',\r\n    id : serviceCallId,\r\n    service : this.name,\r\n    type: this.serviceType,\r\n    args : request\r\n  };\r\n  this.ros.callOnConnection(call);\r\n};\r\n\r\n/**\r\n * Advertise the service. This turns the Service object from a client\r\n * into a server. The callback will be called with every request\r\n * that's made on this service.\r\n *\r\n * @param {function} callback - This works similarly to the callback for a C++ service and should take the following params:\r\n * @param {ServiceRequest} callback.request - The service request.\r\n * @param {Object} callback.response - An empty dictionary. Take care not to overwrite this. Instead, only modify the values within.\r\n *     It should return true if the service has finished successfully,\r\n *     i.e., without any fatal errors.\r\n */\r\nService.prototype.advertise = function(callback) {\r\n  if (this.isAdvertised || typeof callback !== 'function') {\r\n    return;\r\n  }\r\n\r\n  this._serviceCallback = callback;\r\n  this.ros.on(this.name, this._serviceResponse.bind(this));\r\n  this.ros.callOnConnection({\r\n    op: 'advertise_service',\r\n    type: this.serviceType,\r\n    service: this.name\r\n  });\r\n  this.isAdvertised = true;\r\n};\r\n\r\nService.prototype.unadvertise = function() {\r\n  if (!this.isAdvertised) {\r\n    return;\r\n  }\r\n  this.ros.callOnConnection({\r\n    op: 'unadvertise_service',\r\n    service: this.name\r\n  });\r\n  this.isAdvertised = false;\r\n};\r\n\r\nService.prototype._serviceResponse = function(rosbridgeRequest) {\r\n  var response = {};\r\n  var success = this._serviceCallback(rosbridgeRequest.args, response);\r\n\r\n  var call = {\r\n    op: 'service_response',\r\n    service: this.name,\r\n    values: new ServiceResponse(response),\r\n    result: success\r\n  };\r\n\r\n  if (rosbridgeRequest.id) {\r\n    call.id = rosbridgeRequest.id;\r\n  }\r\n\r\n  this.ros.callOnConnection(call);\r\n};\r\n\r\nmodule.exports = Service;\r\n", "/**\r\n * @fileOverview\r\n * @author Brandon Alexander - baalexander@gmail.com\r\n */\r\n\r\nvar WebSocket = require('ws');\r\nvar WorkerSocket = require('../util/workerSocket');\r\nvar socketAdapter = require('./SocketAdapter.js');\r\n\r\nvar Service = require('./Service');\r\nvar ServiceRequest = require('./ServiceRequest');\r\n\r\nvar assign = require('object-assign');\r\nvar EventEmitter2 = require('eventemitter2').EventEmitter2;\r\n\r\n/**\r\n * Manages connection to the server and all interactions with ROS.\r\n *\r\n * Emits the following events:\r\n *  * 'error' - There was an error with ROS.\r\n *  * 'connection' - Connected to the WebSocket server.\r\n *  * 'close' - Disconnected to the WebSocket server.\r\n *  * &#60;topicName&#62; - A message came from rosbridge with the given topic name.\r\n *  * &#60;serviceID&#62; - A service response came from rosbridge with the given ID.\r\n *\r\n * @constructor\r\n * @param {Object} options\r\n * @param {string} [options.url] - The WebSocket URL for rosbridge or the node server URL to connect using socket.io (if socket.io exists in the page). Can be specified later with `connect`.\r\n * @param {boolean} [options.groovyCompatibility=true] - Don't use interfaces that changed after the last groovy release or rosbridge_suite and related tools.\r\n * @param {string} [options.transportLibrary=websocket] - One of 'websocket', 'workersocket', 'socket.io' or RTCPeerConnection instance controlling how the connection is created in `connect`.\r\n * @param {Object} [options.transportOptions={}] - The options to use when creating a connection. Currently only used if `transportLibrary` is RTCPeerConnection.\r\n */\r\nfunction Ros(options) {\r\n  options = options || {};\r\n  var that = this;\r\n  this.socket = null;\r\n  this.idCounter = 0;\r\n  this.isConnected = false;\r\n  this.transportLibrary = options.transportLibrary || 'websocket';\r\n  this.transportOptions = options.transportOptions || {};\r\n  this._sendFunc = function(msg) { that.sendEncodedMessage(msg); };\r\n\r\n  if (typeof options.groovyCompatibility === 'undefined') {\r\n    this.groovyCompatibility = true;\r\n  }\r\n  else {\r\n    this.groovyCompatibility = options.groovyCompatibility;\r\n  }\r\n\r\n  // Sets unlimited event listeners.\r\n  this.setMaxListeners(0);\r\n\r\n  // begin by checking if a URL was given\r\n  if (options.url) {\r\n    this.connect(options.url);\r\n  }\r\n}\r\n\r\nRos.prototype.__proto__ = EventEmitter2.prototype;\r\n\r\n/**\r\n * Connect to the specified WebSocket.\r\n *\r\n * @param {string} url - WebSocket URL or RTCDataChannel label for rosbridge.\r\n */\r\nRos.prototype.connect = function(url) {\r\n  if (this.transportLibrary === 'socket.io') {\r\n    this.socket = assign(io(url, {'force new connection': true}), socketAdapter(this));\r\n    this.socket.on('connect', this.socket.onopen);\r\n    this.socket.on('data', this.socket.onmessage);\r\n    this.socket.on('close', this.socket.onclose);\r\n    this.socket.on('error', this.socket.onerror);\r\n  } else if (this.transportLibrary.constructor.name === 'RTCPeerConnection') {\r\n    this.socket = assign(this.transportLibrary.createDataChannel(url, this.transportOptions), socketAdapter(this));\r\n  } else if (this.transportLibrary === 'websocket') {\r\n    if (!this.socket || this.socket.readyState === WebSocket.CLOSED) {\r\n      var sock = new WebSocket(url);\r\n      sock.binaryType = 'arraybuffer';\r\n      this.socket = assign(sock, socketAdapter(this));\r\n    }\r\n  } else if (this.transportLibrary === 'workersocket') {\r\n    this.socket = assign(new WorkerSocket(url), socketAdapter(this));\r\n  } else {\r\n    throw 'Unknown transportLibrary: ' + this.transportLibrary.toString();\r\n  }\r\n\r\n};\r\n\r\n/**\r\n * Disconnect from the WebSocket server.\r\n */\r\nRos.prototype.close = function() {\r\n  if (this.socket) {\r\n    this.socket.close();\r\n  }\r\n};\r\n\r\n/**\r\n * Send an authorization request to the server.\r\n *\r\n * @param {string} mac - MAC (hash) string given by the trusted source.\r\n * @param {string} client - IP of the client.\r\n * @param {string} dest - IP of the destination.\r\n * @param {string} rand - Random string given by the trusted source.\r\n * @param {Object} t - Time of the authorization request.\r\n * @param {string} level - User level as a string given by the client.\r\n * @param {Object} end - End time of the client's session.\r\n */\r\nRos.prototype.authenticate = function(mac, client, dest, rand, t, level, end) {\r\n  // create the request\r\n  var auth = {\r\n    op : 'auth',\r\n    mac : mac,\r\n    client : client,\r\n    dest : dest,\r\n    rand : rand,\r\n    t : t,\r\n    level : level,\r\n    end : end\r\n  };\r\n  // send the request\r\n  this.callOnConnection(auth);\r\n};\r\n\r\n/**\r\n * Send an encoded message over the WebSocket.\r\n *\r\n * @param {Object} messageEncoded - The encoded message to be sent.\r\n */\r\nRos.prototype.sendEncodedMessage = function(messageEncoded) {\r\n  var emitter = null;\r\n  var that = this;\r\n  if (this.transportLibrary === 'socket.io') {\r\n    emitter = function(msg){that.socket.emit('operation', msg);};\r\n  } else {\r\n    emitter = function(msg){that.socket.send(msg);};\r\n  }\r\n\r\n  if (!this.isConnected) {\r\n    that.once('connection', function() {\r\n      emitter(messageEncoded);\r\n    });\r\n  } else {\r\n    emitter(messageEncoded);\r\n  }\r\n};\r\n\r\n/**\r\n * Send the message over the WebSocket, but queue the message up if not yet\r\n * connected.\r\n *\r\n * @param {Object} message - The message to be sent.\r\n */\r\nRos.prototype.callOnConnection = function(message) {\r\n  if (this.transportOptions.encoder) {\r\n    this.transportOptions.encoder(message, this._sendFunc);\r\n  } else {\r\n    this._sendFunc(JSON.stringify(message));\r\n  }\r\n};\r\n\r\n/**\r\n * Send a set_level request to the server.\r\n *\r\n * @param {string} level - Status level (none, error, warning, info).\r\n * @param {number} [id] - Operation ID to change status level on.\r\n */\r\nRos.prototype.setStatusLevel = function(level, id){\r\n  var levelMsg = {\r\n    op: 'set_level',\r\n    level: level,\r\n    id: id\r\n  };\r\n\r\n  this.callOnConnection(levelMsg);\r\n};\r\n\r\n/**\r\n * Retrieve a list of action servers in ROS as an array of string.\r\n *\r\n * @param {function} callback - Function with the following params:\r\n * @param {string[]} callback.actionservers - Array of action server names.\r\n * @param {function} [failedCallback] - The callback function when the service call failed with params:\r\n * @param {string} failedCallback.error - The error message reported by ROS.\r\n */\r\nRos.prototype.getActionServers = function(callback, failedCallback) {\r\n  var getActionServers = new Service({\r\n    ros : this,\r\n    name : '/rosapi/action_servers',\r\n    serviceType : 'rosapi/GetActionServers'\r\n  });\r\n\r\n  var request = new ServiceRequest({});\r\n  if (typeof failedCallback === 'function'){\r\n    getActionServers.callService(request,\r\n      function(result) {\r\n        callback(result.action_servers);\r\n      },\r\n      function(message){\r\n        failedCallback(message);\r\n      }\r\n    );\r\n  }else{\r\n    getActionServers.callService(request, function(result) {\r\n      callback(result.action_servers);\r\n    });\r\n  }\r\n};\r\n\r\n/**\r\n * Retrieve a list of topics in ROS as an array.\r\n *\r\n * @param {function} callback - Function with the following params:\r\n * @param {Object} callback.result - The result object with the following params:\r\n * @param {string[]} callback.result.topics - Array of topic names.\r\n * @param {string[]} callback.result.types - Array of message type names.\r\n * @param {function} [failedCallback] - The callback function when the service call failed with params:\r\n * @param {string} failedCallback.error - The error message reported by ROS.\r\n */\r\nRos.prototype.getTopics = function(callback, failedCallback) {\r\n  var topicsClient = new Service({\r\n    ros : this,\r\n    name : '/rosapi/topics',\r\n    serviceType : 'rosapi/Topics'\r\n  });\r\n\r\n  var request = new ServiceRequest();\r\n  if (typeof failedCallback === 'function'){\r\n    topicsClient.callService(request,\r\n      function(result) {\r\n        callback(result);\r\n      },\r\n      function(message){\r\n        failedCallback(message);\r\n      }\r\n    );\r\n  }else{\r\n    topicsClient.callService(request, function(result) {\r\n      callback(result);\r\n    });\r\n  }\r\n};\r\n\r\n/**\r\n * Retrieve a list of topics in ROS as an array of a specific type.\r\n *\r\n * @param {string} topicType - The topic type to find.\r\n * @param {function} callback - Function with the following params:\r\n * @param {string[]} callback.topics - Array of topic names.\r\n * @param {function} [failedCallback] - The callback function when the service call failed with params:\r\n * @param {string} failedCallback.error - The error message reported by ROS.\r\n */\r\nRos.prototype.getTopicsForType = function(topicType, callback, failedCallback) {\r\n  var topicsForTypeClient = new Service({\r\n    ros : this,\r\n    name : '/rosapi/topics_for_type',\r\n    serviceType : 'rosapi/TopicsForType'\r\n  });\r\n\r\n  var request = new ServiceRequest({\r\n    type: topicType\r\n  });\r\n  if (typeof failedCallback === 'function'){\r\n    topicsForTypeClient.callService(request,\r\n      function(result) {\r\n        callback(result.topics);\r\n      },\r\n      function(message){\r\n        failedCallback(message);\r\n      }\r\n    );\r\n  }else{\r\n    topicsForTypeClient.callService(request, function(result) {\r\n      callback(result.topics);\r\n    });\r\n  }\r\n};\r\n\r\n/**\r\n * Retrieve a list of active service names in ROS.\r\n *\r\n * @param {function} callback - Function with the following params:\r\n * @param {string[]} callback.services - Array of service names.\r\n * @param {function} [failedCallback] - The callback function when the service call failed with params:\r\n * @param {string} failedCallback.error - The error message reported by ROS.\r\n */\r\nRos.prototype.getServices = function(callback, failedCallback) {\r\n  var servicesClient = new Service({\r\n    ros : this,\r\n    name : '/rosapi/services',\r\n    serviceType : 'rosapi/Services'\r\n  });\r\n\r\n  var request = new ServiceRequest();\r\n  if (typeof failedCallback === 'function'){\r\n    servicesClient.callService(request,\r\n      function(result) {\r\n        callback(result.services);\r\n      },\r\n      function(message) {\r\n        failedCallback(message);\r\n      }\r\n    );\r\n  }else{\r\n    servicesClient.callService(request, function(result) {\r\n      callback(result.services);\r\n    });\r\n  }\r\n};\r\n\r\n/**\r\n * Retrieve a list of services in ROS as an array as specific type.\r\n *\r\n * @param {string} serviceType - The service type to find.\r\n * @param {function} callback - Function with the following params:\r\n * @param {string[]} callback.topics - Array of service names.\r\n * @param {function} [failedCallback] - The callback function when the service call failed with params:\r\n * @param {string} failedCallback.error - The error message reported by ROS.\r\n */\r\nRos.prototype.getServicesForType = function(serviceType, callback, failedCallback) {\r\n  var servicesForTypeClient = new Service({\r\n    ros : this,\r\n    name : '/rosapi/services_for_type',\r\n    serviceType : 'rosapi/ServicesForType'\r\n  });\r\n\r\n  var request = new ServiceRequest({\r\n    type: serviceType\r\n  });\r\n  if (typeof failedCallback === 'function'){\r\n    servicesForTypeClient.callService(request,\r\n      function(result) {\r\n        callback(result.services);\r\n      },\r\n      function(message) {\r\n        failedCallback(message);\r\n      }\r\n    );\r\n  }else{\r\n    servicesForTypeClient.callService(request, function(result) {\r\n      callback(result.services);\r\n    });\r\n  }\r\n};\r\n\r\n/**\r\n * Retrieve the details of a ROS service request.\r\n *\r\n * @param {string} type - The type of the service.\r\n * @param {function} callback - Function with the following params:\r\n * @param {Object} callback.result - The result object with the following params:\r\n * @param {string[]} callback.result.typedefs - An array containing the details of the service request.\r\n * @param {function} [failedCallback] - The callback function when the service call failed with params:\r\n * @param {string} failedCallback.error - The error message reported by ROS.\r\n */\r\nRos.prototype.getServiceRequestDetails = function(type, callback, failedCallback) {\r\n  var serviceTypeClient = new Service({\r\n    ros : this,\r\n    name : '/rosapi/service_request_details',\r\n    serviceType : 'rosapi/ServiceRequestDetails'\r\n  });\r\n  var request = new ServiceRequest({\r\n    type: type\r\n  });\r\n\r\n  if (typeof failedCallback === 'function'){\r\n    serviceTypeClient.callService(request,\r\n      function(result) {\r\n        callback(result);\r\n      },\r\n      function(message){\r\n        failedCallback(message);\r\n      }\r\n    );\r\n  }else{\r\n    serviceTypeClient.callService(request, function(result) {\r\n      callback(result);\r\n    });\r\n  }\r\n};\r\n\r\n/**\r\n * Retrieve the details of a ROS service response.\r\n *\r\n * @param {string} type - The type of the service.\r\n * @param {function} callback - Function with the following params:\r\n * @param {Object} callback.result - The result object with the following params:\r\n * @param {string[]} callback.result.typedefs - An array containing the details of the service response.\r\n * @param {function} [failedCallback] - The callback function when the service call failed with params:\r\n * @param {string} failedCallback.error - The error message reported by ROS.\r\n */\r\nRos.prototype.getServiceResponseDetails = function(type, callback, failedCallback) {\r\n  var serviceTypeClient = new Service({\r\n    ros : this,\r\n    name : '/rosapi/service_response_details',\r\n    serviceType : 'rosapi/ServiceResponseDetails'\r\n  });\r\n  var request = new ServiceRequest({\r\n    type: type\r\n  });\r\n\r\n  if (typeof failedCallback === 'function'){\r\n    serviceTypeClient.callService(request,\r\n      function(result) {\r\n        callback(result);\r\n      },\r\n      function(message){\r\n        failedCallback(message);\r\n      }\r\n    );\r\n  }else{\r\n    serviceTypeClient.callService(request, function(result) {\r\n      callback(result);\r\n    });\r\n  }\r\n};\r\n\r\n/**\r\n * Retrieve a list of active node names in ROS.\r\n *\r\n * @param {function} callback - Function with the following params:\r\n * @param {string[]} callback.nodes - Array of node names.\r\n * @param {function} [failedCallback] - The callback function when the service call failed with params:\r\n * @param {string} failedCallback.error - The error message reported by ROS.\r\n */\r\nRos.prototype.getNodes = function(callback, failedCallback) {\r\n  var nodesClient = new Service({\r\n    ros : this,\r\n    name : '/rosapi/nodes',\r\n    serviceType : 'rosapi/Nodes'\r\n  });\r\n\r\n  var request = new ServiceRequest();\r\n  if (typeof failedCallback === 'function'){\r\n    nodesClient.callService(request,\r\n      function(result) {\r\n        callback(result.nodes);\r\n      },\r\n      function(message) {\r\n        failedCallback(message);\r\n      }\r\n    );\r\n  }else{\r\n    nodesClient.callService(request, function(result) {\r\n      callback(result.nodes);\r\n    });\r\n  }\r\n};\r\n\r\n/**\r\n * Retrieve a list of subscribed topics, publishing topics and services of a specific node.\r\n * <br>\r\n * These are the parameters if failedCallback is <strong>defined</strong>.\r\n *\r\n * @param {string} node - Name of the node.\r\n * @param {function} callback - Function with the following params:\r\n * @param {string[]} callback.subscriptions - Array of subscribed topic names.\r\n * @param {string[]} callback.publications - Array of published topic names.\r\n * @param {string[]} callback.services - Array of service names hosted.\r\n * @param {function} [failedCallback] - The callback function when the service call failed with params:\r\n * @param {string} failedCallback.error - The error message reported by ROS.\r\n *\r\n * @also\r\n *\r\n * Retrieve a list of subscribed topics, publishing topics and services of a specific node.\r\n * <br>\r\n * These are the parameters if failedCallback is <strong>undefined</strong>.\r\n *\r\n * @param {string} node - Name of the node.\r\n * @param {function} callback - Function with the following params:\r\n * @param {Object} callback.result - The result object with the following params:\r\n * @param {string[]} callback.result.subscribing - Array of subscribed topic names.\r\n * @param {string[]} callback.result.publishing - Array of published topic names.\r\n * @param {string[]} callback.result.services - Array of service names hosted.\r\n * @param {function} [failedCallback] - The callback function when the service call failed with params:\r\n * @param {string} failedCallback.error - The error message reported by ROS.\r\n */\r\nRos.prototype.getNodeDetails = function(node, callback, failedCallback) {\r\n  var nodesClient = new Service({\r\n    ros : this,\r\n    name : '/rosapi/node_details',\r\n    serviceType : 'rosapi/NodeDetails'\r\n  });\r\n\r\n  var request = new ServiceRequest({\r\n    node: node\r\n  });\r\n  if (typeof failedCallback === 'function'){\r\n    nodesClient.callService(request,\r\n      function(result) {\r\n        callback(result.subscribing, result.publishing, result.services);\r\n      },\r\n      function(message) {\r\n        failedCallback(message);\r\n      }\r\n    );\r\n  } else {\r\n    nodesClient.callService(request, function(result) {\r\n      callback(result);\r\n    });\r\n  }\r\n};\r\n\r\n/**\r\n * Retrieve a list of parameter names from the ROS Parameter Server.\r\n *\r\n * @param {function} callback - Function with the following params:\r\n * @param {string[]} callback.params - Array of param names.\r\n * @param {function} [failedCallback] - The callback function when the service call failed with params:\r\n * @param {string} failedCallback.error - The error message reported by ROS.\r\n */\r\nRos.prototype.getParams = function(callback, failedCallback) {\r\n  var paramsClient = new Service({\r\n    ros : this,\r\n    name : '/rosapi/get_param_names',\r\n    serviceType : 'rosapi/GetParamNames'\r\n  });\r\n  var request = new ServiceRequest();\r\n  if (typeof failedCallback === 'function'){\r\n    paramsClient.callService(request,\r\n      function(result) {\r\n        callback(result.names);\r\n      },\r\n      function(message){\r\n        failedCallback(message);\r\n      }\r\n    );\r\n  }else{\r\n    paramsClient.callService(request, function(result) {\r\n      callback(result.names);\r\n    });\r\n  }\r\n};\r\n\r\n/**\r\n * Retrieve the type of a ROS topic.\r\n *\r\n * @param {string} topic - Name of the topic.\r\n * @param {function} callback - Function with the following params:\r\n * @param {string} callback.type - The type of the topic.\r\n * @param {function} [failedCallback] - The callback function when the service call failed with params:\r\n * @param {string} failedCallback.error - The error message reported by ROS.\r\n */\r\nRos.prototype.getTopicType = function(topic, callback, failedCallback) {\r\n  var topicTypeClient = new Service({\r\n    ros : this,\r\n    name : '/rosapi/topic_type',\r\n    serviceType : 'rosapi/TopicType'\r\n  });\r\n  var request = new ServiceRequest({\r\n    topic: topic\r\n  });\r\n\r\n  if (typeof failedCallback === 'function'){\r\n    topicTypeClient.callService(request,\r\n      function(result) {\r\n        callback(result.type);\r\n      },\r\n      function(message){\r\n        failedCallback(message);\r\n      }\r\n    );\r\n  }else{\r\n    topicTypeClient.callService(request, function(result) {\r\n      callback(result.type);\r\n    });\r\n  }\r\n};\r\n\r\n/**\r\n * Retrieve the type of a ROS service.\r\n *\r\n * @param {string} service - Name of the service.\r\n * @param {function} callback - Function with the following params:\r\n * @param {string} callback.type - The type of the service.\r\n * @param {function} [failedCallback] - The callback function when the service call failed with params:\r\n * @param {string} failedCallback.error - The error message reported by ROS.\r\n */\r\nRos.prototype.getServiceType = function(service, callback, failedCallback) {\r\n  var serviceTypeClient = new Service({\r\n    ros : this,\r\n    name : '/rosapi/service_type',\r\n    serviceType : 'rosapi/ServiceType'\r\n  });\r\n  var request = new ServiceRequest({\r\n    service: service\r\n  });\r\n\r\n  if (typeof failedCallback === 'function'){\r\n    serviceTypeClient.callService(request,\r\n      function(result) {\r\n        callback(result.type);\r\n      },\r\n      function(message){\r\n        failedCallback(message);\r\n      }\r\n    );\r\n  }else{\r\n    serviceTypeClient.callService(request, function(result) {\r\n      callback(result.type);\r\n    });\r\n  }\r\n};\r\n\r\n/**\r\n * Retrieve the details of a ROS message.\r\n *\r\n * @param {string} message - The name of the message type.\r\n * @param {function} callback - Function with the following params:\r\n * @param {string} callback.details - An array of the message details.\r\n * @param {function} [failedCallback] - The callback function when the service call failed with params:\r\n * @param {string} failedCallback.error - The error message reported by ROS.\r\n */\r\nRos.prototype.getMessageDetails = function(message, callback, failedCallback) {\r\n  var messageDetailClient = new Service({\r\n    ros : this,\r\n    name : '/rosapi/message_details',\r\n    serviceType : 'rosapi/MessageDetails'\r\n  });\r\n  var request = new ServiceRequest({\r\n    type: message\r\n  });\r\n\r\n  if (typeof failedCallback === 'function'){\r\n    messageDetailClient.callService(request,\r\n      function(result) {\r\n        callback(result.typedefs);\r\n      },\r\n      function(message){\r\n        failedCallback(message);\r\n      }\r\n    );\r\n  }else{\r\n    messageDetailClient.callService(request, function(result) {\r\n      callback(result.typedefs);\r\n    });\r\n  }\r\n};\r\n\r\n/**\r\n * Decode a typedef array into a dictionary like `rosmsg show foo/bar`.\r\n *\r\n * @param {Object[]} defs - Array of type_def dictionary.\r\n */\r\nRos.prototype.decodeTypeDefs = function(defs) {\r\n  var that = this;\r\n\r\n  var decodeTypeDefsRec = function(theType, hints) {\r\n    // calls itself recursively to resolve type definition using hints.\r\n    var typeDefDict = {};\r\n    for (var i = 0; i < theType.fieldnames.length; i++) {\r\n      var arrayLen = theType.fieldarraylen[i];\r\n      var fieldName = theType.fieldnames[i];\r\n      var fieldType = theType.fieldtypes[i];\r\n      if (fieldType.indexOf('/') === -1) { // check the fieldType includes '/' or not\r\n        if (arrayLen === -1) {\r\n          typeDefDict[fieldName] = fieldType;\r\n        }\r\n        else {\r\n          typeDefDict[fieldName] = [fieldType];\r\n        }\r\n      }\r\n      else {\r\n        // lookup the name\r\n        var sub = false;\r\n        for (var j = 0; j < hints.length; j++) {\r\n          if (hints[j].type.toString() === fieldType.toString()) {\r\n            sub = hints[j];\r\n            break;\r\n          }\r\n        }\r\n        if (sub) {\r\n          var subResult = decodeTypeDefsRec(sub, hints);\r\n          if (arrayLen === -1) {\r\n            typeDefDict[fieldName] = subResult; // add this decoding result to dictionary\r\n          }\r\n          else {\r\n            typeDefDict[fieldName] = [subResult];\r\n          }\r\n        }\r\n        else {\r\n          that.emit('error', 'Cannot find ' + fieldType + ' in decodeTypeDefs');\r\n        }\r\n      }\r\n    }\r\n    return typeDefDict;\r\n  };\r\n\r\n  return decodeTypeDefsRec(defs[0], defs);\r\n};\r\n\r\n/**\r\n * Retrieve a list of topics and their associated type definitions.\r\n *\r\n * @param {function} callback - Function with the following params:\r\n * @param {Object} callback.result - The result object with the following params:\r\n * @param {string[]} callback.result.topics - Array of topic names.\r\n * @param {string[]} callback.result.types - Array of message type names.\r\n * @param {string[]} callback.result.typedefs_full_text - Array of full definitions of message types, similar to `gendeps --cat`.\r\n * @param {function} [failedCallback] - The callback function when the service call failed with params:\r\n * @param {string} failedCallback.error - The error message reported by ROS.\r\n */\r\nRos.prototype.getTopicsAndRawTypes = function(callback, failedCallback) {\r\n  var topicsAndRawTypesClient = new Service({\r\n    ros : this,\r\n    name : '/rosapi/topics_and_raw_types',\r\n    serviceType : 'rosapi/TopicsAndRawTypes'\r\n  });\r\n\r\n  var request = new ServiceRequest();\r\n  if (typeof failedCallback === 'function'){\r\n    topicsAndRawTypesClient.callService(request,\r\n      function(result) {\r\n        callback(result);\r\n      },\r\n      function(message){\r\n        failedCallback(message);\r\n      }\r\n    );\r\n  }else{\r\n    topicsAndRawTypesClient.callService(request, function(result) {\r\n      callback(result);\r\n    });\r\n  }\r\n};\r\n\r\n\r\nmodule.exports = Ros;\r\n", "/**\r\n * @fileOverview\r\n * @author Brandon Alexander - baalexander@gmail.com\r\n */\r\n\r\nvar assign = require('object-assign');\r\n\r\n/**\r\n * Message objects are used for publishing and subscribing to and from topics.\r\n *\r\n * @constructor\r\n * @param {Object} values - An object matching the fields defined in the .msg definition file.\r\n */\r\nfunction Message(values) {\r\n  assign(this, values);\r\n}\r\n\r\nmodule.exports = Message;", "/**\r\n * @fileOverview\r\n * @author Brandon Alexander - baalexander@gmail.com\r\n */\r\n\r\nvar EventEmitter2 = require('eventemitter2').EventEmitter2;\r\nvar Message = require('./Message');\r\n\r\n/**\r\n * Publish and/or subscribe to a topic in ROS.\r\n *\r\n * Emits the following events:\r\n *  * 'warning' - If there are any warning during the Topic creation.\r\n *  * 'message' - The message data from rosbridge.\r\n *\r\n * @constructor\r\n * @param {Object} options\r\n * @param {Ros} options.ros - The ROSLIB.Ros connection handle.\r\n * @param {string} options.name - The topic name, like '/cmd_vel'.\r\n * @param {string} options.messageType - The message type, like 'std_msgs/String'.\r\n * @param {string} [options.compression=none] - The type of compression to use, like 'png', 'cbor', or 'cbor-raw'.\r\n * @param {number} [options.throttle_rate=0] - The rate (in ms in between messages) at which to throttle the topics.\r\n * @param {number} [options.queue_size=100] - The queue created at bridge side for re-publishing webtopics.\r\n * @param {boolean} [options.latch=false] - Latch the topic when publishing.\r\n * @param {number} [options.queue_length=0] - The queue length at bridge side used when subscribing.\r\n * @param {boolean} [options.reconnect_on_close=true] - The flag to enable resubscription and readvertisement on close event.\r\n */\r\nfunction Topic(options) {\r\n  options = options || {};\r\n  this.ros = options.ros;\r\n  this.name = options.name;\r\n  this.messageType = options.messageType;\r\n  this.isAdvertised = false;\r\n  this.compression = options.compression || 'none';\r\n  this.throttle_rate = options.throttle_rate || 0;\r\n  this.latch = options.latch || false;\r\n  this.queue_size = options.queue_size || 100;\r\n  this.queue_length = options.queue_length || 0;\r\n  this.reconnect_on_close = options.reconnect_on_close !== undefined ? options.reconnect_on_close : true;\r\n\r\n  // Check for valid compression types\r\n  if (this.compression && this.compression !== 'png' &&\r\n    this.compression !== 'cbor' && this.compression !== 'cbor-raw' &&\r\n    this.compression !== 'none') {\r\n    this.emit('warning', this.compression +\r\n      ' compression is not supported. No compression will be used.');\r\n    this.compression = 'none';\r\n  }\r\n\r\n  // Check if throttle rate is negative\r\n  if (this.throttle_rate < 0) {\r\n    this.emit('warning', this.throttle_rate + ' is not allowed. Set to 0');\r\n    this.throttle_rate = 0;\r\n  }\r\n\r\n  var that = this;\r\n  if (this.reconnect_on_close) {\r\n    this.callForSubscribeAndAdvertise = function(message) {\r\n      that.ros.callOnConnection(message);\r\n\r\n      that.waitForReconnect = false;\r\n      that.reconnectFunc = function() {\r\n        if(!that.waitForReconnect) {\r\n          that.waitForReconnect = true;\r\n          that.ros.callOnConnection(message);\r\n          that.ros.once('connection', function() {\r\n            that.waitForReconnect = false;\r\n          });\r\n        }\r\n      };\r\n      that.ros.on('close', that.reconnectFunc);\r\n    };\r\n  }\r\n  else {\r\n    this.callForSubscribeAndAdvertise = this.ros.callOnConnection;\r\n  }\r\n\r\n  this._messageCallback = function(data) {\r\n    that.emit('message', new Message(data));\r\n  };\r\n}\r\nTopic.prototype.__proto__ = EventEmitter2.prototype;\r\n\r\n/**\r\n * Every time a message is published for the given topic, the callback\r\n * will be called with the message object.\r\n *\r\n * @param {function} callback - Function with the following params:\r\n * @param {Object} callback.message - The published message.\r\n */\r\nTopic.prototype.subscribe = function(callback) {\r\n  if (typeof callback === 'function') {\r\n    this.on('message', callback);\r\n  }\r\n\r\n  if (this.subscribeId) { return; }\r\n  this.ros.on(this.name, this._messageCallback);\r\n  this.subscribeId = 'subscribe:' + this.name + ':' + (++this.ros.idCounter);\r\n\r\n  this.callForSubscribeAndAdvertise({\r\n    op: 'subscribe',\r\n    id: this.subscribeId,\r\n    type: this.messageType,\r\n    topic: this.name,\r\n    compression: this.compression,\r\n    throttle_rate: this.throttle_rate,\r\n    queue_length: this.queue_length\r\n  });\r\n};\r\n\r\n/**\r\n * Unregister as a subscriber for the topic. Unsubscribing will stop\r\n * and remove all subscribe callbacks. To remove a callback, you must\r\n * explicitly pass the callback function in.\r\n *\r\n * @param {function} [callback] - The callback to unregister, if\r\n *     provided and other listeners are registered the topic won't\r\n *     unsubscribe, just stop emitting to the passed listener.\r\n */\r\nTopic.prototype.unsubscribe = function(callback) {\r\n  if (callback) {\r\n    this.off('message', callback);\r\n    // If there is any other callbacks still subscribed don't unsubscribe\r\n    if (this.listeners('message').length) { return; }\r\n  }\r\n  if (!this.subscribeId) { return; }\r\n  // Note: Don't call this.removeAllListeners, allow client to handle that themselves\r\n  this.ros.off(this.name, this._messageCallback);\r\n  if(this.reconnect_on_close) {\r\n    this.ros.off('close', this.reconnectFunc);\r\n  }\r\n  this.emit('unsubscribe');\r\n  this.ros.callOnConnection({\r\n    op: 'unsubscribe',\r\n    id: this.subscribeId,\r\n    topic: this.name\r\n  });\r\n  this.subscribeId = null;\r\n};\r\n\r\n\r\n/**\r\n * Register as a publisher for the topic.\r\n */\r\nTopic.prototype.advertise = function() {\r\n  if (this.isAdvertised) {\r\n    return;\r\n  }\r\n  this.advertiseId = 'advertise:' + this.name + ':' + (++this.ros.idCounter);\r\n  this.callForSubscribeAndAdvertise({\r\n    op: 'advertise',\r\n    id: this.advertiseId,\r\n    type: this.messageType,\r\n    topic: this.name,\r\n    latch: this.latch,\r\n    queue_size: this.queue_size\r\n  });\r\n  this.isAdvertised = true;\r\n\r\n  if(!this.reconnect_on_close) {\r\n    var that = this;\r\n    this.ros.on('close', function() {\r\n      that.isAdvertised = false;\r\n    });\r\n  }\r\n};\r\n\r\n/**\r\n * Unregister as a publisher for the topic.\r\n */\r\nTopic.prototype.unadvertise = function() {\r\n  if (!this.isAdvertised) {\r\n    return;\r\n  }\r\n  if(this.reconnect_on_close) {\r\n    this.ros.off('close', this.reconnectFunc);\r\n  }\r\n  this.emit('unadvertise');\r\n  this.ros.callOnConnection({\r\n    op: 'unadvertise',\r\n    id: this.advertiseId,\r\n    topic: this.name\r\n  });\r\n  this.isAdvertised = false;\r\n};\r\n\r\n/**\r\n * Publish the message.\r\n *\r\n * @param {Message} message - A ROSLIB.Message object.\r\n */\r\nTopic.prototype.publish = function(message) {\r\n  if (!this.isAdvertised) {\r\n    this.advertise();\r\n  }\r\n\r\n  this.ros.idCounter++;\r\n  var call = {\r\n    op: 'publish',\r\n    id: 'publish:' + this.name + ':' + this.ros.idCounter,\r\n    topic: this.name,\r\n    msg: message,\r\n    latch: this.latch\r\n  };\r\n  this.ros.callOnConnection(call);\r\n};\r\n\r\nmodule.exports = Topic;\r\n", "/**\r\n * @fileOverview\r\n * @author Brandon Alexander - baalexander@gmail.com\r\n */\r\n\r\nvar Service = require('./Service');\r\nvar ServiceRequest = require('./ServiceRequest');\r\n\r\n/**\r\n * A ROS parameter.\r\n *\r\n * @constructor\r\n * @param {Object} options\r\n * @param {Ros} options.ros - The ROSLIB.Ros connection handle.\r\n * @param {string} options.name - The param name, like max_vel_x.\r\n */\r\nfunction Param(options) {\r\n  options = options || {};\r\n  this.ros = options.ros;\r\n  this.name = options.name;\r\n}\r\n\r\n/**\r\n * Fetch the value of the param.\r\n *\r\n * @param {function} callback - Function with the following params:\r\n * @param {Object} callback.value - The value of the param from ROS.\r\n * @param {function} [failedCallback] - Function when the service call failed with the following params:\r\n * @param {string} failedCallback.error - The error message reported by ROS.\r\n */\r\nParam.prototype.get = function(callback, failedCallback) {\r\n  var paramClient = new Service({\r\n    ros : this.ros,\r\n    name : '/rosapi/get_param',\r\n    serviceType : 'rosapi/GetParam'\r\n  });\r\n\r\n  var request = new ServiceRequest({\r\n    name : this.name\r\n  });\r\n\r\n  paramClient.callService(request, function(result) {\r\n    var value = JSON.parse(result.value);\r\n    callback(value);\r\n  }, failedCallback);\r\n};\r\n\r\n/**\r\n * Set the value of the param in ROS.\r\n *\r\n * @param {Object} value - The value to set param to.\r\n * @param {function} [callback] - The callback function.\r\n * @param {function} [failedCallback] - The callback function when the service call failed.\r\n * @param {string} failedCallback.error - The error message reported by ROS.\r\n */\r\nParam.prototype.set = function(value, callback, failedCallback) {\r\n  var paramClient = new Service({\r\n    ros : this.ros,\r\n    name : '/rosapi/set_param',\r\n    serviceType : 'rosapi/SetParam'\r\n  });\r\n\r\n  var request = new ServiceRequest({\r\n    name : this.name,\r\n    value : JSON.stringify(value)\r\n  });\r\n\r\n  paramClient.callService(request, callback, failedCallback);\r\n};\r\n\r\n/**\r\n * Delete this parameter on the ROS server.\r\n *\r\n * @param {function} [callback] - The callback function when the service call succeeded.\r\n * @param {function} [failedCallback] - The callback function when the service call failed.\r\n * @param {string} failedCallback.error - The error message reported by ROS.\r\n */\r\nParam.prototype.delete = function(callback, failedCallback) {\r\n  var paramClient = new Service({\r\n    ros : this.ros,\r\n    name : '/rosapi/delete_param',\r\n    serviceType : 'rosapi/DeleteParam'\r\n  });\r\n\r\n  var request = new ServiceRequest({\r\n    name : this.name\r\n  });\r\n\r\n  paramClient.callService(request, callback, failedCallback);\r\n};\r\n\r\nmodule.exports = Param;\r\n", "var mixin = require('../mixin');\r\n\r\nvar core = module.exports = {\r\n    Ros: require('./Ros'),\r\n    Topic: require('./Topic'),\r\n    Message: require('./Message'),\r\n    Param: require('./Param'),\r\n    Service: require('./Service'),\r\n    ServiceRequest: require('./ServiceRequest'),\r\n    ServiceResponse: require('./ServiceResponse')\r\n};\r\n\r\nmixin(core.Ros, ['Param', 'Service', 'Topic'], core);\r\n", "/**\r\n * @fileOverview\r\n * @author Russell Toris - rctoris@wpi.edu\r\n */\r\n\r\nvar Topic = require('../core/Topic');\r\nvar Message = require('../core/Message');\r\nvar EventEmitter2 = require('eventemitter2').EventEmitter2;\r\n\r\n/**\r\n * An actionlib action client.\r\n *\r\n * Emits the following events:\r\n *  * 'timeout' - If a timeout occurred while sending a goal.\r\n *  * 'status' - The status messages received from the action server.\r\n *  * 'feedback' - The feedback messages received from the action server.\r\n *  * 'result' - The result returned from the action server.\r\n *\r\n * @constructor\r\n * @param {Object} options\r\n * @param {Ros} options.ros - The ROSLIB.Ros connection handle.\r\n * @param {string} options.serverName - The action server name, like '/fibonacci'.\r\n * @param {string} options.actionName - The action message name, like 'actionlib_tutorials/FibonacciAction'.\r\n * @param {number} [options.timeout] - The timeout length when connecting to the action server.\r\n * @param {boolean} [options.omitFeedback] - The flag to indicate whether to omit the feedback channel or not.\r\n * @param {boolean} [options.omitStatus] - The flag to indicate whether to omit the status channel or not.\r\n * @param {boolean} [options.omitResult] - The flag to indicate whether to omit the result channel or not.\r\n */\r\nfunction ActionClient(options) {\r\n  var that = this;\r\n  options = options || {};\r\n  this.ros = options.ros;\r\n  this.serverName = options.serverName;\r\n  this.actionName = options.actionName;\r\n  this.timeout = options.timeout;\r\n  this.omitFeedback = options.omitFeedback;\r\n  this.omitStatus = options.omitStatus;\r\n  this.omitResult = options.omitResult;\r\n  this.goals = {};\r\n\r\n  // flag to check if a status has been received\r\n  var receivedStatus = false;\r\n\r\n  // create the topics associated with actionlib\r\n  this.feedbackListener = new Topic({\r\n    ros : this.ros,\r\n    name : this.serverName + '/feedback',\r\n    messageType : this.actionName + 'Feedback'\r\n  });\r\n\r\n  this.statusListener = new Topic({\r\n    ros : this.ros,\r\n    name : this.serverName + '/status',\r\n    messageType : 'actionlib_msgs/GoalStatusArray'\r\n  });\r\n\r\n  this.resultListener = new Topic({\r\n    ros : this.ros,\r\n    name : this.serverName + '/result',\r\n    messageType : this.actionName + 'Result'\r\n  });\r\n\r\n  this.goalTopic = new Topic({\r\n    ros : this.ros,\r\n    name : this.serverName + '/goal',\r\n    messageType : this.actionName + 'Goal'\r\n  });\r\n\r\n  this.cancelTopic = new Topic({\r\n    ros : this.ros,\r\n    name : this.serverName + '/cancel',\r\n    messageType : 'actionlib_msgs/GoalID'\r\n  });\r\n\r\n  // advertise the goal and cancel topics\r\n  this.goalTopic.advertise();\r\n  this.cancelTopic.advertise();\r\n\r\n  // subscribe to the status topic\r\n  if (!this.omitStatus) {\r\n    this.statusListener.subscribe(function(statusMessage) {\r\n      receivedStatus = true;\r\n      statusMessage.status_list.forEach(function(status) {\r\n        var goal = that.goals[status.goal_id.id];\r\n        if (goal) {\r\n          goal.emit('status', status);\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  // subscribe the the feedback topic\r\n  if (!this.omitFeedback) {\r\n    this.feedbackListener.subscribe(function(feedbackMessage) {\r\n      var goal = that.goals[feedbackMessage.status.goal_id.id];\r\n      if (goal) {\r\n        goal.emit('status', feedbackMessage.status);\r\n        goal.emit('feedback', feedbackMessage.feedback);\r\n      }\r\n    });\r\n  }\r\n\r\n  // subscribe to the result topic\r\n  if (!this.omitResult) {\r\n    this.resultListener.subscribe(function(resultMessage) {\r\n      var goal = that.goals[resultMessage.status.goal_id.id];\r\n\r\n      if (goal) {\r\n        goal.emit('status', resultMessage.status);\r\n        goal.emit('result', resultMessage.result);\r\n      }\r\n    });\r\n  }\r\n\r\n  // If timeout specified, emit a 'timeout' event if the action server does not respond\r\n  if (this.timeout) {\r\n    setTimeout(function() {\r\n      if (!receivedStatus) {\r\n        that.emit('timeout');\r\n      }\r\n    }, this.timeout);\r\n  }\r\n}\r\n\r\nActionClient.prototype.__proto__ = EventEmitter2.prototype;\r\n\r\n/**\r\n * Cancel all goals associated with this ActionClient.\r\n */\r\nActionClient.prototype.cancel = function() {\r\n  var cancelMessage = new Message();\r\n  this.cancelTopic.publish(cancelMessage);\r\n};\r\n\r\n/**\r\n * Unsubscribe and unadvertise all topics associated with this ActionClient.\r\n */\r\nActionClient.prototype.dispose = function() {\r\n  this.goalTopic.unadvertise();\r\n  this.cancelTopic.unadvertise();\r\n  if (!this.omitStatus) {this.statusListener.unsubscribe();}\r\n  if (!this.omitFeedback) {this.feedbackListener.unsubscribe();}\r\n  if (!this.omitResult) {this.resultListener.unsubscribe();}\r\n};\r\n\r\nmodule.exports = ActionClient;\r\n", "/**\r\n * @fileOverview\r\n * @author Justin Young - justin@oodar.com.au\r\n * @author Russell Toris - rctoris@wpi.edu\r\n */\r\n\r\nvar Topic = require('../core/Topic');\r\nvar Message = require('../core/Message');\r\nvar EventEmitter2 = require('eventemitter2').EventEmitter2;\r\n\r\n/**\r\n * An actionlib action listener.\r\n *\r\n * Emits the following events:\r\n *  * 'status' - The status messages received from the action server.\r\n *  * 'feedback' - The feedback messages received from the action server.\r\n *  * 'result' - The result returned from the action server.\r\n *\r\n * @constructor\r\n * @param {Object} options\r\n * @param {Ros} options.ros - The ROSLIB.Ros connection handle.\r\n * @param {string} options.serverName - The action server name, like '/fibonacci'.\r\n * @param {string} options.actionName - The action message name, like 'actionlib_tutorials/FibonacciAction'.\r\n */\r\nfunction ActionListener(options) {\r\n  var that = this;\r\n  options = options || {};\r\n  this.ros = options.ros;\r\n  this.serverName = options.serverName;\r\n  this.actionName = options.actionName;\r\n\r\n\r\n  // create the topics associated with actionlib\r\n  var goalListener = new Topic({\r\n    ros : this.ros,\r\n    name : this.serverName + '/goal',\r\n    messageType : this.actionName + 'Goal'\r\n  });\r\n\r\n  var feedbackListener = new Topic({\r\n    ros : this.ros,\r\n    name : this.serverName + '/feedback',\r\n    messageType : this.actionName + 'Feedback'\r\n  });\r\n\r\n  var statusListener = new Topic({\r\n    ros : this.ros,\r\n    name : this.serverName + '/status',\r\n    messageType : 'actionlib_msgs/GoalStatusArray'\r\n  });\r\n\r\n  var resultListener = new Topic({\r\n    ros : this.ros,\r\n    name : this.serverName + '/result',\r\n    messageType : this.actionName + 'Result'\r\n  });\r\n\r\n  goalListener.subscribe(function(goalMessage) {\r\n      that.emit('goal', goalMessage);\r\n  });\r\n\r\n  statusListener.subscribe(function(statusMessage) {\r\n      statusMessage.status_list.forEach(function(status) {\r\n          that.emit('status', status);\r\n      });\r\n  });\r\n\r\n  feedbackListener.subscribe(function(feedbackMessage) {\r\n      that.emit('status', feedbackMessage.status);\r\n      that.emit('feedback', feedbackMessage.feedback);\r\n  });\r\n\r\n  // subscribe to the result topic\r\n  resultListener.subscribe(function(resultMessage) {\r\n      that.emit('status', resultMessage.status);\r\n      that.emit('result', resultMessage.result);\r\n  });\r\n\r\n}\r\n\r\nActionListener.prototype.__proto__ = EventEmitter2.prototype;\r\n\r\nmodule.exports = ActionListener;\r\n", "/**\r\n * @fileOverview\r\n * @author Russell Toris - rctoris@wpi.edu\r\n */\r\n\r\nvar Message = require('../core/Message');\r\nvar EventEmitter2 = require('eventemitter2').EventEmitter2;\r\n\r\n/**\r\n * An actionlib goal that is associated with an action server.\r\n *\r\n * Emits the following events:\r\n *  * 'timeout' - If a timeout occurred while sending a goal.\r\n *\r\n * @constructor\r\n * @param {Object} options\r\n * @param {ActionClient} options.actionClient - The ROSLIB.ActionClient to use with this goal.\r\n * @param {Object} options.goalMessage - The JSON object containing the goal for the action server.\r\n */\r\nfunction Goal(options) {\r\n  var that = this;\r\n  this.actionClient = options.actionClient;\r\n  this.goalMessage = options.goalMessage;\r\n  this.isFinished = false;\r\n\r\n  // Used to create random IDs\r\n  var date = new Date();\r\n\r\n  // Create a random ID\r\n  this.goalID = 'goal_' + Math.random() + '_' + date.getTime();\r\n  // Fill in the goal message\r\n  this.goalMessage = new Message({\r\n    goal_id : {\r\n      stamp : {\r\n        secs : 0,\r\n        nsecs : 0\r\n      },\r\n      id : this.goalID\r\n    },\r\n    goal : this.goalMessage\r\n  });\r\n\r\n  this.on('status', function(status) {\r\n    that.status = status;\r\n  });\r\n\r\n  this.on('result', function(result) {\r\n    that.isFinished = true;\r\n    that.result = result;\r\n  });\r\n\r\n  this.on('feedback', function(feedback) {\r\n    that.feedback = feedback;\r\n  });\r\n\r\n  // Add the goal\r\n  this.actionClient.goals[this.goalID] = this;\r\n}\r\n\r\nGoal.prototype.__proto__ = EventEmitter2.prototype;\r\n\r\n/**\r\n * Send the goal to the action server.\r\n *\r\n * @param {number} [timeout] - A timeout length for the goal's result.\r\n */\r\nGoal.prototype.send = function(timeout) {\r\n  var that = this;\r\n  that.actionClient.goalTopic.publish(that.goalMessage);\r\n  if (timeout) {\r\n    setTimeout(function() {\r\n      if (!that.isFinished) {\r\n        that.emit('timeout');\r\n      }\r\n    }, timeout);\r\n  }\r\n};\r\n\r\n/**\r\n * Cancel the current goal.\r\n */\r\nGoal.prototype.cancel = function() {\r\n  var cancelMessage = new Message({\r\n    id : this.goalID\r\n  });\r\n  this.actionClient.cancelTopic.publish(cancelMessage);\r\n};\r\n\r\nmodule.exports = Goal;\r\n", "/**\r\n * @fileOverview\r\n * @author Laura Lindzey - lindzey@gmail.com\r\n */\r\n\r\nvar Topic = require('../core/Topic');\r\nvar Message = require('../core/Message');\r\nvar EventEmitter2 = require('eventemitter2').EventEmitter2;\r\n\r\n/**\r\n * An actionlib action server client.\r\n *\r\n * Emits the following events:\r\n *  * 'goal' - Goal sent by action client.\r\n *  * 'cancel' - Action client has canceled the request.\r\n *\r\n * @constructor\r\n * @param {Object} options\r\n * @param {Ros} options.ros - The ROSLIB.Ros connection handle.\r\n * @param {string} options.serverName - The action server name, like '/fibonacci'.\r\n * @param {string} options.actionName - The action message name, like 'actionlib_tutorials/FibonacciAction'.\r\n */\r\nfunction SimpleActionServer(options) {\r\n    var that = this;\r\n    options = options || {};\r\n    this.ros = options.ros;\r\n    this.serverName = options.serverName;\r\n    this.actionName = options.actionName;\r\n\r\n    // create and advertise publishers\r\n    this.feedbackPublisher = new Topic({\r\n        ros : this.ros,\r\n        name : this.serverName + '/feedback',\r\n        messageType : this.actionName + 'Feedback'\r\n    });\r\n    this.feedbackPublisher.advertise();\r\n\r\n    var statusPublisher = new Topic({\r\n        ros : this.ros,\r\n        name : this.serverName + '/status',\r\n        messageType : 'actionlib_msgs/GoalStatusArray'\r\n    });\r\n    statusPublisher.advertise();\r\n\r\n    this.resultPublisher = new Topic({\r\n        ros : this.ros,\r\n        name : this.serverName + '/result',\r\n        messageType : this.actionName + 'Result'\r\n    });\r\n    this.resultPublisher.advertise();\r\n\r\n    // create and subscribe to listeners\r\n    var goalListener = new Topic({\r\n        ros : this.ros,\r\n        name : this.serverName + '/goal',\r\n        messageType : this.actionName + 'Goal'\r\n    });\r\n\r\n    var cancelListener = new Topic({\r\n        ros : this.ros,\r\n        name : this.serverName + '/cancel',\r\n        messageType : 'actionlib_msgs/GoalID'\r\n    });\r\n\r\n    // Track the goals and their status in order to publish status...\r\n    this.statusMessage = new Message({\r\n        header : {\r\n            stamp : {secs : 0, nsecs : 100},\r\n            frame_id : ''\r\n        },\r\n        status_list : []\r\n    });\r\n\r\n    // needed for handling preemption prompted by a new goal being received\r\n    this.currentGoal = null; // currently tracked goal\r\n    this.nextGoal = null; // the one that'll be preempting\r\n\r\n    goalListener.subscribe(function(goalMessage) {\r\n\r\n    if(that.currentGoal) {\r\n            that.nextGoal = goalMessage;\r\n            // needs to happen AFTER rest is set up\r\n            that.emit('cancel');\r\n    } else {\r\n            that.statusMessage.status_list = [{goal_id : goalMessage.goal_id, status : 1}];\r\n            that.currentGoal = goalMessage;\r\n            that.emit('goal', goalMessage.goal);\r\n    }\r\n    });\r\n\r\n    // helper function to determine ordering of timestamps\r\n    // returns t1 < t2\r\n    var isEarlier = function(t1, t2) {\r\n        if(t1.secs > t2.secs) {\r\n            return false;\r\n        } else if(t1.secs < t2.secs) {\r\n            return true;\r\n        } else if(t1.nsecs < t2.nsecs) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    };\r\n\r\n    // TODO: this may be more complicated than necessary, since I'm\r\n    // not sure if the callbacks can ever wind up with a scenario\r\n    // where we've been preempted by a next goal, it hasn't finished\r\n    // processing, and then we get a cancel message\r\n    cancelListener.subscribe(function(cancelMessage) {\r\n\r\n        // cancel ALL goals if both empty\r\n        if(cancelMessage.stamp.secs === 0 && cancelMessage.stamp.secs === 0 && cancelMessage.id === '') {\r\n            that.nextGoal = null;\r\n            if(that.currentGoal) {\r\n                that.emit('cancel');\r\n            }\r\n        } else { // treat id and stamp independently\r\n            if(that.currentGoal && cancelMessage.id === that.currentGoal.goal_id.id) {\r\n                that.emit('cancel');\r\n            } else if(that.nextGoal && cancelMessage.id === that.nextGoal.goal_id.id) {\r\n                that.nextGoal = null;\r\n            }\r\n\r\n            if(that.nextGoal && isEarlier(that.nextGoal.goal_id.stamp,\r\n                                          cancelMessage.stamp)) {\r\n                that.nextGoal = null;\r\n            }\r\n            if(that.currentGoal && isEarlier(that.currentGoal.goal_id.stamp,\r\n                                             cancelMessage.stamp)) {\r\n                that.emit('cancel');\r\n            }\r\n        }\r\n    });\r\n\r\n    // publish status at pseudo-fixed rate; required for clients to know they've connected\r\n    var statusInterval = setInterval( function() {\r\n        var currentTime = new Date();\r\n        var secs = Math.floor(currentTime.getTime()/1000);\r\n        var nsecs = Math.round(1000000000*(currentTime.getTime()/1000-secs));\r\n        that.statusMessage.header.stamp.secs = secs;\r\n        that.statusMessage.header.stamp.nsecs = nsecs;\r\n        statusPublisher.publish(that.statusMessage);\r\n    }, 500); // publish every 500ms\r\n\r\n}\r\n\r\nSimpleActionServer.prototype.__proto__ = EventEmitter2.prototype;\r\n\r\n/**\r\n * Set action state to succeeded and return to client.\r\n *\r\n * @param {Object} result - The result to return to the client.\r\n */\r\nSimpleActionServer.prototype.setSucceeded = function(result) {\r\n    var resultMessage = new Message({\r\n        status : {goal_id : this.currentGoal.goal_id, status : 3},\r\n        result : result\r\n    });\r\n    this.resultPublisher.publish(resultMessage);\r\n\r\n    this.statusMessage.status_list = [];\r\n    if(this.nextGoal) {\r\n        this.currentGoal = this.nextGoal;\r\n        this.nextGoal = null;\r\n        this.emit('goal', this.currentGoal.goal);\r\n    } else {\r\n        this.currentGoal = null;\r\n    }\r\n};\r\n\r\n/**\r\n * Set action state to aborted and return to client.\r\n *\r\n * @param {Object} result - The result to return to the client.\r\n */\r\nSimpleActionServer.prototype.setAborted = function(result) {\r\n    var resultMessage = new Message({\r\n        status : {goal_id : this.currentGoal.goal_id, status : 4},\r\n        result : result\r\n    });\r\n    this.resultPublisher.publish(resultMessage);\r\n\r\n    this.statusMessage.status_list = [];\r\n    if(this.nextGoal) {\r\n        this.currentGoal = this.nextGoal;\r\n        this.nextGoal = null;\r\n        this.emit('goal', this.currentGoal.goal);\r\n    } else {\r\n        this.currentGoal = null;\r\n    }\r\n};\r\n\r\n/**\r\n * Send a feedback message.\r\n *\r\n * @param {Object} feedback - The feedback to send to the client.\r\n */\r\nSimpleActionServer.prototype.sendFeedback = function(feedback) {\r\n    var feedbackMessage = new Message({\r\n        status : {goal_id : this.currentGoal.goal_id, status : 1},\r\n        feedback : feedback\r\n    });\r\n    this.feedbackPublisher.publish(feedbackMessage);\r\n};\r\n\r\n/**\r\n * Handle case where client requests preemption.\r\n */\r\nSimpleActionServer.prototype.setPreempted = function() {\r\n    this.statusMessage.status_list = [];\r\n    var resultMessage = new Message({\r\n        status : {goal_id : this.currentGoal.goal_id, status : 2},\r\n    });\r\n    this.resultPublisher.publish(resultMessage);\r\n\r\n    if(this.nextGoal) {\r\n        this.currentGoal = this.nextGoal;\r\n        this.nextGoal = null;\r\n        this.emit('goal', this.currentGoal.goal);\r\n    } else {\r\n        this.currentGoal = null;\r\n    }\r\n};\r\n\r\nmodule.exports = SimpleActionServer;\r\n", "var Ros = require('../core/Ros');\r\nvar mixin = require('../mixin');\r\n\r\nvar action = module.exports = {\r\n    ActionClient: require('./ActionClient'),\r\n    ActionListener: require('./ActionListener'),\r\n    Goal: require('./Goal'),\r\n    SimpleActionServer: require('./SimpleActionServer')\r\n};\r\n\r\nmixin(Ros, ['ActionClient', 'SimpleActionServer'], action);\r\n", "/**\r\n * @fileOverview\r\n * @author David Gossow - dgossow@willowgarage.com\r\n */\r\n\r\n/**\r\n * A 3D vector.\r\n *\r\n * @constructor\r\n * @param {Object} options\r\n * @param {number} [options.x=0] - The x value.\r\n * @param {number} [options.y=0] - The y value.\r\n * @param {number} [options.z=0] - The z value.\r\n */\r\nfunction Vector3(options) {\r\n  options = options || {};\r\n  this.x = options.x || 0;\r\n  this.y = options.y || 0;\r\n  this.z = options.z || 0;\r\n}\r\n\r\n/**\r\n * Set the values of this vector to the sum of itself and the given vector.\r\n *\r\n * @param {Vector3} v - The vector to add with.\r\n */\r\nVector3.prototype.add = function(v) {\r\n  this.x += v.x;\r\n  this.y += v.y;\r\n  this.z += v.z;\r\n};\r\n\r\n/**\r\n * Set the values of this vector to the difference of itself and the given vector.\r\n *\r\n * @param {Vector3} v - The vector to subtract with.\r\n */\r\nVector3.prototype.subtract = function(v) {\r\n  this.x -= v.x;\r\n  this.y -= v.y;\r\n  this.z -= v.z;\r\n};\r\n\r\n/**\r\n * Multiply the given Quaternion with this vector.\r\n *\r\n * @param {Quaternion} q - The quaternion to multiply with.\r\n */\r\nVector3.prototype.multiplyQuaternion = function(q) {\r\n  var ix = q.w * this.x + q.y * this.z - q.z * this.y;\r\n  var iy = q.w * this.y + q.z * this.x - q.x * this.z;\r\n  var iz = q.w * this.z + q.x * this.y - q.y * this.x;\r\n  var iw = -q.x * this.x - q.y * this.y - q.z * this.z;\r\n  this.x = ix * q.w + iw * -q.x + iy * -q.z - iz * -q.y;\r\n  this.y = iy * q.w + iw * -q.y + iz * -q.x - ix * -q.z;\r\n  this.z = iz * q.w + iw * -q.z + ix * -q.y - iy * -q.x;\r\n};\r\n\r\n/**\r\n * Clone a copy of this vector.\r\n *\r\n * @returns {Vector3} The cloned vector.\r\n */\r\nVector3.prototype.clone = function() {\r\n  return new Vector3(this);\r\n};\r\n\r\nmodule.exports = Vector3;\r\n", "/**\r\n * @fileOverview\r\n * @author David Gossow - dgossow@willowgarage.com\r\n */\r\n\r\n/**\r\n * A Quaternion.\r\n *\r\n * @constructor\r\n * @param {Object} options\r\n * @param {number} [options.x=0] - The x value.\r\n * @param {number} [options.y=0] - The y value.\r\n * @param {number} [options.z=0] - The z value.\r\n * @param {number} [options.w=1] - The w value.\r\n */\r\nfunction Quaternion(options) {\r\n  options = options || {};\r\n  this.x = options.x || 0;\r\n  this.y = options.y || 0;\r\n  this.z = options.z || 0;\r\n  this.w = (typeof options.w === 'number') ? options.w : 1;\r\n}\r\n\r\n/**\r\n * Perform a conjugation on this quaternion.\r\n */\r\nQuaternion.prototype.conjugate = function() {\r\n  this.x *= -1;\r\n  this.y *= -1;\r\n  this.z *= -1;\r\n};\r\n\r\n/**\r\n * Return the norm of this quaternion.\r\n */\r\nQuaternion.prototype.norm = function() {\r\n  return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w);\r\n};\r\n\r\n/**\r\n * Perform a normalization on this quaternion.\r\n */\r\nQuaternion.prototype.normalize = function() {\r\n  var l = Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w);\r\n  if (l === 0) {\r\n    this.x = 0;\r\n    this.y = 0;\r\n    this.z = 0;\r\n    this.w = 1;\r\n  } else {\r\n    l = 1 / l;\r\n    this.x = this.x * l;\r\n    this.y = this.y * l;\r\n    this.z = this.z * l;\r\n    this.w = this.w * l;\r\n  }\r\n};\r\n\r\n/**\r\n * Convert this quaternion into its inverse.\r\n */\r\nQuaternion.prototype.invert = function() {\r\n  this.conjugate();\r\n  this.normalize();\r\n};\r\n\r\n/**\r\n * Set the values of this quaternion to the product of itself and the given quaternion.\r\n *\r\n * @param {Quaternion} q - The quaternion to multiply with.\r\n */\r\nQuaternion.prototype.multiply = function(q) {\r\n  var newX = this.x * q.w + this.y * q.z - this.z * q.y + this.w * q.x;\r\n  var newY = -this.x * q.z + this.y * q.w + this.z * q.x + this.w * q.y;\r\n  var newZ = this.x * q.y - this.y * q.x + this.z * q.w + this.w * q.z;\r\n  var newW = -this.x * q.x - this.y * q.y - this.z * q.z + this.w * q.w;\r\n  this.x = newX;\r\n  this.y = newY;\r\n  this.z = newZ;\r\n  this.w = newW;\r\n};\r\n\r\n/**\r\n * Clone a copy of this quaternion.\r\n *\r\n * @returns {Quaternion} The cloned quaternion.\r\n */\r\nQuaternion.prototype.clone = function() {\r\n  return new Quaternion(this);\r\n};\r\n\r\nmodule.exports = Quaternion;\r\n", "/**\r\n * @fileOverview\r\n * @author David Gossow - dgossow@willowgarage.com\r\n */\r\n\r\nvar Vector3 = require('./Vector3');\r\nvar Quaternion = require('./Quaternion');\r\n\r\n/**\r\n * A Pose in 3D space. Values are copied into this object.\r\n *\r\n * @constructor\r\n * @param {Object} options\r\n * @param {Vector3} options.position - The ROSLIB.Vector3 describing the position.\r\n * @param {Quaternion} options.orientation - The ROSLIB.Quaternion describing the orientation.\r\n */\r\nfunction Pose(options) {\r\n  options = options || {};\r\n  // copy the values into this object if they exist\r\n  this.position = new Vector3(options.position);\r\n  this.orientation = new Quaternion(options.orientation);\r\n}\r\n\r\n/**\r\n * Apply a transform against this pose.\r\n *\r\n * @param {Transform} tf - The transform to be applied.\r\n */\r\nPose.prototype.applyTransform = function(tf) {\r\n  this.position.multiplyQuaternion(tf.rotation);\r\n  this.position.add(tf.translation);\r\n  var tmp = tf.rotation.clone();\r\n  tmp.multiply(this.orientation);\r\n  this.orientation = tmp;\r\n};\r\n\r\n/**\r\n * Clone a copy of this pose.\r\n *\r\n * @returns {Pose} The cloned pose.\r\n */\r\nPose.prototype.clone = function() {\r\n  return new Pose(this);\r\n};\r\n\r\n/**\r\n * Multiply this pose with another pose without altering this pose.\r\n *\r\n * @returns {Pose} The result of the multiplication.\r\n */\r\nPose.prototype.multiply = function(pose) {\r\n  var p = pose.clone();\r\n  p.applyTransform({ rotation: this.orientation, translation: this.position });\r\n  return p;\r\n};\r\n\r\n/**\r\n * Compute the inverse of this pose.\r\n *\r\n * @returns {Pose} The inverse of the pose.\r\n */\r\nPose.prototype.getInverse = function() {\r\n  var inverse = this.clone();\r\n  inverse.orientation.invert();\r\n  inverse.position.multiplyQuaternion(inverse.orientation);\r\n  inverse.position.x *= -1;\r\n  inverse.position.y *= -1;\r\n  inverse.position.z *= -1;\r\n  return inverse;\r\n};\r\n\r\nmodule.exports = Pose;\r\n", "/**\r\n * @fileOverview\r\n * @author David Gossow - dgossow@willowgarage.com\r\n */\r\n\r\nvar Vector3 = require('./Vector3');\r\nvar Quaternion = require('./Quaternion');\r\n\r\n/**\r\n * A Transform in 3-space. Values are copied into this object.\r\n *\r\n * @constructor\r\n * @param {Object} options\r\n * @param {Vector3} options.translation - The ROSLIB.Vector3 describing the translation.\r\n * @param {Quaternion} options.rotation - The ROSLIB.Quaternion describing the rotation.\r\n */\r\nfunction Transform(options) {\r\n  options = options || {};\r\n  // Copy the values into this object if they exist\r\n  this.translation = new Vector3(options.translation);\r\n  this.rotation = new Quaternion(options.rotation);\r\n}\r\n\r\n/**\r\n * Clone a copy of this transform.\r\n *\r\n * @returns {Transform} The cloned transform.\r\n */\r\nTransform.prototype.clone = function() {\r\n  return new Transform(this);\r\n};\r\n\r\nmodule.exports = Transform;\r\n", "module.exports = {\r\n    Pose: require('./Pose'),\r\n    Quaternion: require('./Quaternion'),\r\n    Transform: require('./Transform'),\r\n    Vector3: require('./Vector3')\r\n};\r\n", "/**\r\n * @fileOverview\r\n * @author David Gossow - dgossow@willowgarage.com\r\n */\r\n\r\nvar ActionClient = require('../actionlib/ActionClient');\r\nvar Goal = require('../actionlib/Goal');\r\n\r\nvar Service = require('../core/Service.js');\r\nvar ServiceRequest = require('../core/ServiceRequest.js');\r\nvar Topic = require('../core/Topic.js');\r\n\r\nvar Transform = require('../math/Transform');\r\n\r\n/**\r\n * A TF Client that listens to TFs from tf2_web_republisher.\r\n *\r\n * @constructor\r\n * @param {Object} options\r\n * @param {Ros} options.ros - The ROSLIB.Ros connection handle.\r\n * @param {string} [options.fixedFrame=base_link] - The fixed frame.\r\n * @param {number} [options.angularThres=2.0] - The angular threshold for the TF republisher.\r\n * @param {number} [options.transThres=0.01] - The translation threshold for the TF republisher.\r\n * @param {number} [options.rate=10.0] - The rate for the TF republisher.\r\n * @param {number} [options.updateDelay=50] - The time (in ms) to wait after a new subscription\r\n *     to update the TF republisher's list of TFs.\r\n * @param {number} [options.topicTimeout=2.0] - The timeout parameter for the TF republisher.\r\n * @param {string} [options.serverName=/tf2_web_republisher] - The name of the tf2_web_republisher server.\r\n * @param {string} [options.repubServiceName=/republish_tfs] - The name of the republish_tfs service (non groovy compatibility mode only).\r\n */\r\nfunction TFClient(options) {\r\n  options = options || {};\r\n  this.ros = options.ros;\r\n  this.fixedFrame = options.fixedFrame || 'base_link';\r\n  this.angularThres = options.angularThres || 2.0;\r\n  this.transThres = options.transThres || 0.01;\r\n  this.rate = options.rate || 10.0;\r\n  this.updateDelay = options.updateDelay || 50;\r\n  var seconds = options.topicTimeout || 2.0;\r\n  var secs = Math.floor(seconds);\r\n  var nsecs = Math.floor((seconds - secs) * 1000000000);\r\n  this.topicTimeout = {\r\n    secs: secs,\r\n    nsecs: nsecs\r\n  };\r\n  this.serverName = options.serverName || '/tf2_web_republisher';\r\n  this.repubServiceName = options.repubServiceName || '/republish_tfs';\r\n\r\n  this.currentGoal = false;\r\n  this.currentTopic = false;\r\n  this.frameInfos = {};\r\n  this.republisherUpdateRequested = false;\r\n  this._subscribeCB = null;\r\n  this._isDisposed = false;\r\n\r\n  // Create an Action Client\r\n  this.actionClient = new ActionClient({\r\n    ros : options.ros,\r\n    serverName : this.serverName,\r\n    actionName : 'tf2_web_republisher/TFSubscriptionAction',\r\n    omitStatus : true,\r\n    omitResult : true\r\n  });\r\n\r\n  // Create a Service Client\r\n  this.serviceClient = new Service({\r\n    ros: options.ros,\r\n    name: this.repubServiceName,\r\n    serviceType: 'tf2_web_republisher/RepublishTFs'\r\n  });\r\n}\r\n\r\n/**\r\n * Process the incoming TF message and send them out using the callback\r\n * functions.\r\n *\r\n * @param {Object} tf - The TF message from the server.\r\n */\r\nTFClient.prototype.processTFArray = function(tf) {\r\n  var that = this;\r\n  tf.transforms.forEach(function(transform) {\r\n    var frameID = transform.child_frame_id;\r\n    if (frameID[0] === '/')\r\n    {\r\n      frameID = frameID.substring(1);\r\n    }\r\n    var info = this.frameInfos[frameID];\r\n    if (info) {\r\n      info.transform = new Transform({\r\n        translation : transform.transform.translation,\r\n        rotation : transform.transform.rotation\r\n      });\r\n      info.cbs.forEach(function(cb) {\r\n        cb(info.transform);\r\n      });\r\n    }\r\n  }, this);\r\n};\r\n\r\n/**\r\n * Create and send a new goal (or service request) to the tf2_web_republisher\r\n * based on the current list of TFs.\r\n */\r\nTFClient.prototype.updateGoal = function() {\r\n  var goalMessage = {\r\n    source_frames : Object.keys(this.frameInfos),\r\n    target_frame : this.fixedFrame,\r\n    angular_thres : this.angularThres,\r\n    trans_thres : this.transThres,\r\n    rate : this.rate\r\n  };\r\n\r\n  // if we're running in groovy compatibility mode (the default)\r\n  // then use the action interface to tf2_web_republisher\r\n  if(this.ros.groovyCompatibility) {\r\n    if (this.currentGoal) {\r\n      this.currentGoal.cancel();\r\n    }\r\n    this.currentGoal = new Goal({\r\n      actionClient : this.actionClient,\r\n      goalMessage : goalMessage\r\n    });\r\n\r\n    this.currentGoal.on('feedback', this.processTFArray.bind(this));\r\n    this.currentGoal.send();\r\n  }\r\n  else {\r\n    // otherwise, use the service interface\r\n    // The service interface has the same parameters as the action,\r\n    // plus the timeout\r\n    goalMessage.timeout = this.topicTimeout;\r\n    var request = new ServiceRequest(goalMessage);\r\n\r\n    this.serviceClient.callService(request, this.processResponse.bind(this));\r\n  }\r\n\r\n  this.republisherUpdateRequested = false;\r\n};\r\n\r\n/**\r\n * Process the service response and subscribe to the tf republisher\r\n * topic.\r\n *\r\n * @param {Object} response - The service response containing the topic name.\r\n */\r\nTFClient.prototype.processResponse = function(response) {\r\n  // Do not setup a topic subscription if already disposed. Prevents a race condition where\r\n  // The dispose() function is called before the service call receives a response.\r\n  if (this._isDisposed) {\r\n    return;\r\n  }\r\n\r\n  // if we subscribed to a topic before, unsubscribe so\r\n  // the republisher stops publishing it\r\n  if (this.currentTopic) {\r\n    this.currentTopic.unsubscribe(this._subscribeCB);\r\n  }\r\n\r\n  this.currentTopic = new Topic({\r\n    ros: this.ros,\r\n    name: response.topic_name,\r\n    messageType: 'tf2_web_republisher/TFArray'\r\n  });\r\n  this._subscribeCB = this.processTFArray.bind(this);\r\n  this.currentTopic.subscribe(this._subscribeCB);\r\n};\r\n\r\n/**\r\n * Subscribe to the given TF frame.\r\n *\r\n * @param {string} frameID - The TF frame to subscribe to.\r\n * @param {function} callback - Function with the following params:\r\n * @param {Transform} callback.transform - The transform data.\r\n */\r\nTFClient.prototype.subscribe = function(frameID, callback) {\r\n  // remove leading slash, if it's there\r\n  if (frameID[0] === '/')\r\n  {\r\n    frameID = frameID.substring(1);\r\n  }\r\n  // if there is no callback registered for the given frame, create empty callback list\r\n  if (!this.frameInfos[frameID]) {\r\n    this.frameInfos[frameID] = {\r\n      cbs: []\r\n    };\r\n    if (!this.republisherUpdateRequested) {\r\n      setTimeout(this.updateGoal.bind(this), this.updateDelay);\r\n      this.republisherUpdateRequested = true;\r\n    }\r\n  }\r\n  // if we already have a transform, callback immediately\r\n  else if (this.frameInfos[frameID].transform) {\r\n    callback(this.frameInfos[frameID].transform);\r\n  }\r\n  this.frameInfos[frameID].cbs.push(callback);\r\n};\r\n\r\n/**\r\n * Unsubscribe from the given TF frame.\r\n *\r\n * @param {string} frameID - The TF frame to unsubscribe from.\r\n * @param {function} callback - The callback function to remove.\r\n */\r\nTFClient.prototype.unsubscribe = function(frameID, callback) {\r\n  // remove leading slash, if it's there\r\n  if (frameID[0] === '/')\r\n  {\r\n    frameID = frameID.substring(1);\r\n  }\r\n  var info = this.frameInfos[frameID];\r\n  for (var cbs = info && info.cbs || [], idx = cbs.length; idx--;) {\r\n    if (cbs[idx] === callback) {\r\n      cbs.splice(idx, 1);\r\n    }\r\n  }\r\n  if (!callback || cbs.length === 0) {\r\n    delete this.frameInfos[frameID];\r\n  }\r\n};\r\n\r\n/**\r\n * Unsubscribe and unadvertise all topics associated with this TFClient.\r\n */\r\nTFClient.prototype.dispose = function() {\r\n  this._isDisposed = true;\r\n  this.actionClient.dispose();\r\n  if (this.currentTopic) {\r\n    this.currentTopic.unsubscribe(this._subscribeCB);\r\n  }\r\n};\r\n\r\nmodule.exports = TFClient;\r\n", "var Ros = require('../core/Ros');\r\nvar mixin = require('../mixin');\r\n\r\nvar tf = module.exports = {\r\n    TFClient: require('./TFClient')\r\n};\r\n\r\nmixin(Ros, ['TFClient'], tf);", "module.exports = {\r\n\tURDF_SPHERE : 0,\r\n\tURDF_BOX : 1,\r\n\tURDF_CYLINDER : 2,\r\n\tURDF_MESH : 3\r\n};\r\n", "/**\r\n * @fileOverview\r\n * @author Benjamin Pitzer - ben.pitzer@gmail.com\r\n * @author Russell Toris - rctoris@wpi.edu\r\n */\r\n\r\nvar Vector3 = require('../math/Vector3');\r\nvar UrdfTypes = require('./UrdfTypes');\r\n\r\n/**\r\n * A Box element in a URDF.\r\n *\r\n * @constructor\r\n * @param {Object} options\r\n * @param {Element} options.xml - The XML element to parse.\r\n */\r\nfunction UrdfBox(options) {\r\n  this.dimension = null;\r\n  this.type = UrdfTypes.URDF_BOX;\r\n\r\n  // Parse the xml string\r\n  var xyz = options.xml.getAttribute('size').split(' ');\r\n  this.dimension = new Vector3({\r\n    x : parseFloat(xyz[0]),\r\n    y : parseFloat(xyz[1]),\r\n    z : parseFloat(xyz[2])\r\n  });\r\n}\r\n\r\nmodule.exports = UrdfBox;\r\n", "/**\r\n * @fileOverview\r\n * @author Benjamin Pitzer - ben.pitzer@gmail.com\r\n * @author Russell Toris - rctoris@wpi.edu\r\n */\r\n\r\n/**\r\n * A Color element in a URDF.\r\n *\r\n * @constructor\r\n * @param {Object} options\r\n * @param {Element} options.xml - The XML element to parse.\r\n */\r\nfunction UrdfColor(options) {\r\n  // Parse the xml string\r\n  var rgba = options.xml.getAttribute('rgba').split(' ');\r\n  this.r = parseFloat(rgba[0]);\r\n  this.g = parseFloat(rgba[1]);\r\n  this.b = parseFloat(rgba[2]);\r\n  this.a = parseFloat(rgba[3]);\r\n}\r\n\r\nmodule.exports = UrdfColor;\r\n", "/**\r\n * @fileOverview\r\n * @author Benjamin Pitzer - ben.pitzer@gmail.com\r\n * @author Russell Toris - rctoris@wpi.edu\r\n */\r\n\r\nvar UrdfTypes = require('./UrdfTypes');\r\n\r\n/**\r\n * A Cylinder element in a URDF.\r\n *\r\n * @constructor\r\n * @param {Object} options\r\n * @param {Element} options.xml - The XML element to parse.\r\n */\r\nfunction UrdfCylinder(options) {\r\n  this.type = UrdfTypes.URDF_CYLINDER;\r\n  this.length = parseFloat(options.xml.getAttribute('length'));\r\n  this.radius = parseFloat(options.xml.getAttribute('radius'));\r\n}\r\n\r\nmodule.exports = UrdfCylinder;\r\n", "/**\r\n * @fileOverview\r\n * @author Benjamin Pitzer - ben.pitzer@gmail.com\r\n * @author Russell Toris - rctoris@wpi.edu\r\n */\r\n\r\nvar UrdfColor = require('./UrdfColor');\r\n\r\n/**\r\n * A Material element in a URDF.\r\n *\r\n * @constructor\r\n * @param {Object} options\r\n * @param {Element} options.xml - The XML element to parse.\r\n */\r\nfunction UrdfMaterial(options) {\r\n  this.textureFilename = null;\r\n  this.color = null;\r\n\r\n  this.name = options.xml.getAttribute('name');\r\n\r\n  // Texture\r\n  var textures = options.xml.getElementsByTagName('texture');\r\n  if (textures.length > 0) {\r\n    this.textureFilename = textures[0].getAttribute('filename');\r\n  }\r\n\r\n  // Color\r\n  var colors = options.xml.getElementsByTagName('color');\r\n  if (colors.length > 0) {\r\n    // Parse the RBGA string\r\n    this.color = new UrdfColor({\r\n      xml : colors[0]\r\n    });\r\n  }\r\n}\r\n\r\nUrdfMaterial.prototype.isLink = function() {\r\n  return this.color === null && this.textureFilename === null;\r\n};\r\n\r\nvar assign = require('object-assign');\r\n\r\nUrdfMaterial.prototype.assign = function(obj) {\r\n    return assign(this, obj);\r\n};\r\n\r\nmodule.exports = UrdfMaterial;\r\n", "/**\r\n * @fileOverview\r\n * @author Benjamin Pitzer - ben.pitzer@gmail.com\r\n * @author Russell Toris - rctoris@wpi.edu\r\n */\r\n\r\nvar Vector3 = require('../math/Vector3');\r\nvar UrdfTypes = require('./UrdfTypes');\r\n\r\n/**\r\n * A Mesh element in a URDF.\r\n *\r\n * @constructor\r\n * @param {Object} options\r\n * @param {Element} options.xml - The XML element to parse.\r\n */\r\nfunction UrdfMesh(options) {\r\n  this.scale = null;\r\n\r\n  this.type = UrdfTypes.URDF_MESH;\r\n  this.filename = options.xml.getAttribute('filename');\r\n\r\n  // Check for a scale\r\n  var scale = options.xml.getAttribute('scale');\r\n  if (scale) {\r\n    // Get the XYZ\r\n    var xyz = scale.split(' ');\r\n    this.scale = new Vector3({\r\n      x : parseFloat(xyz[0]),\r\n      y : parseFloat(xyz[1]),\r\n      z : parseFloat(xyz[2])\r\n    });\r\n  }\r\n}\r\n\r\nmodule.exports = UrdfMesh;\r\n", "/**\r\n * @fileOverview\r\n * @author Benjamin Pitzer - ben.pitzer@gmail.com\r\n * @author Russell Toris - rctoris@wpi.edu\r\n */\r\n\r\nvar UrdfTypes = require('./UrdfTypes');\r\n\r\n/**\r\n * A Sphere element in a URDF.\r\n *\r\n * @constructor\r\n * @param {Object} options\r\n * @param {Element} options.xml - The XML element to parse.\r\n */\r\nfunction UrdfSphere(options) {\r\n  this.type = UrdfTypes.URDF_SPHERE;\r\n  this.radius = parseFloat(options.xml.getAttribute('radius'));\r\n}\r\n\r\nmodule.exports = UrdfSphere;\r\n", "/**\r\n * @fileOverview\r\n * @author Benjamin Pitzer - ben.pitzer@gmail.com\r\n * @author Russell Toris - rctoris@wpi.edu\r\n */\r\n\r\nvar Pose = require('../math/Pose');\r\nvar Vector3 = require('../math/Vector3');\r\nvar Quaternion = require('../math/Quaternion');\r\n\r\nvar UrdfCylinder = require('./UrdfCylinder');\r\nvar UrdfBox = require('./UrdfBox');\r\nvar UrdfMaterial = require('./UrdfMaterial');\r\nvar UrdfMesh = require('./UrdfMesh');\r\nvar UrdfSphere = require('./UrdfSphere');\r\n\r\n/**\r\n * A Visual element in a URDF.\r\n *\r\n * @constructor\r\n * @param {Object} options\r\n * @param {Element} options.xml - The XML element to parse.\r\n */\r\nfunction UrdfVisual(options) {\r\n  var xml = options.xml;\r\n  this.origin = null;\r\n  this.geometry = null;\r\n  this.material = null;\r\n\r\n  this.name = options.xml.getAttribute('name');\r\n\r\n  // Origin\r\n  var origins = xml.getElementsByTagName('origin');\r\n  if (origins.length === 0) {\r\n    // use the identity as the default\r\n    this.origin = new Pose();\r\n  } else {\r\n    // Check the XYZ\r\n    var xyz = origins[0].getAttribute('xyz');\r\n    var position = new Vector3();\r\n    if (xyz) {\r\n      xyz = xyz.split(' ');\r\n      position = new Vector3({\r\n        x : parseFloat(xyz[0]),\r\n        y : parseFloat(xyz[1]),\r\n        z : parseFloat(xyz[2])\r\n      });\r\n    }\r\n\r\n    // Check the RPY\r\n    var rpy = origins[0].getAttribute('rpy');\r\n    var orientation = new Quaternion();\r\n    if (rpy) {\r\n      rpy = rpy.split(' ');\r\n      // Convert from RPY\r\n      var roll = parseFloat(rpy[0]);\r\n      var pitch = parseFloat(rpy[1]);\r\n      var yaw = parseFloat(rpy[2]);\r\n      var phi = roll / 2.0;\r\n      var the = pitch / 2.0;\r\n      var psi = yaw / 2.0;\r\n      var x = Math.sin(phi) * Math.cos(the) * Math.cos(psi) - Math.cos(phi) * Math.sin(the)\r\n          * Math.sin(psi);\r\n      var y = Math.cos(phi) * Math.sin(the) * Math.cos(psi) + Math.sin(phi) * Math.cos(the)\r\n          * Math.sin(psi);\r\n      var z = Math.cos(phi) * Math.cos(the) * Math.sin(psi) - Math.sin(phi) * Math.sin(the)\r\n          * Math.cos(psi);\r\n      var w = Math.cos(phi) * Math.cos(the) * Math.cos(psi) + Math.sin(phi) * Math.sin(the)\r\n          * Math.sin(psi);\r\n\r\n      orientation = new Quaternion({\r\n        x : x,\r\n        y : y,\r\n        z : z,\r\n        w : w\r\n      });\r\n      orientation.normalize();\r\n    }\r\n    this.origin = new Pose({\r\n      position : position,\r\n      orientation : orientation\r\n    });\r\n  }\r\n\r\n  // Geometry\r\n  var geoms = xml.getElementsByTagName('geometry');\r\n  if (geoms.length > 0) {\r\n    var geom = geoms[0];\r\n    var shape = null;\r\n    // Check for the shape\r\n    for (var i = 0; i < geom.childNodes.length; i++) {\r\n      var node = geom.childNodes[i];\r\n      if (node.nodeType === 1) {\r\n        shape = node;\r\n        break;\r\n      }\r\n    }\r\n    // Check the type\r\n    var type = shape.nodeName;\r\n    if (type === 'sphere') {\r\n      this.geometry = new UrdfSphere({\r\n        xml : shape\r\n      });\r\n    } else if (type === 'box') {\r\n      this.geometry = new UrdfBox({\r\n        xml : shape\r\n      });\r\n    } else if (type === 'cylinder') {\r\n      this.geometry = new UrdfCylinder({\r\n        xml : shape\r\n      });\r\n    } else if (type === 'mesh') {\r\n      this.geometry = new UrdfMesh({\r\n        xml : shape\r\n      });\r\n    } else {\r\n      console.warn('Unknown geometry type ' + type);\r\n    }\r\n  }\r\n\r\n  // Material\r\n  var materials = xml.getElementsByTagName('material');\r\n  if (materials.length > 0) {\r\n    this.material = new UrdfMaterial({\r\n      xml : materials[0]\r\n    });\r\n  }\r\n}\r\n\r\nmodule.exports = UrdfVisual;\r\n", "/**\r\n * @fileOverview\r\n * @author Benjamin Pitzer - ben.pitzer@gmail.com\r\n * @author Russell Toris - rctoris@wpi.edu\r\n */\r\n\r\nvar UrdfVisual = require('./UrdfVisual');\r\n\r\n/**\r\n * A Link element in a URDF.\r\n *\r\n * @constructor\r\n * @param {Object} options\r\n * @param {Element} options.xml - The XML element to parse.\r\n */\r\nfunction UrdfLink(options) {\r\n  this.name = options.xml.getAttribute('name');\r\n  this.visuals = [];\r\n  var visuals = options.xml.getElementsByTagName('visual');\r\n\r\n  for( var i=0; i<visuals.length; i++ ) {\r\n    this.visuals.push( new UrdfVisual({\r\n      xml : visuals[i]\r\n    }) );\r\n  }\r\n}\r\n\r\nmodule.exports = UrdfLink;\r\n", "/**\r\n * @fileOverview\r\n * @author David V. Lu!! - davidvlu@gmail.com\r\n */\r\n\r\nvar Pose = require('../math/Pose');\r\nvar Vector3 = require('../math/Vector3');\r\nvar Quaternion = require('../math/Quaternion');\r\n\r\n/**\r\n * A Joint element in a URDF.\r\n *\r\n * @constructor\r\n * @param {Object} options\r\n * @param {Element} options.xml - The XML element to parse.\r\n */\r\nfunction UrdfJoint(options) {\r\n  this.name = options.xml.getAttribute('name');\r\n  this.type = options.xml.getAttribute('type');\r\n\r\n  var parents = options.xml.getElementsByTagName('parent');\r\n  if(parents.length > 0) {\r\n    this.parent = parents[0].getAttribute('link');\r\n  }\r\n\r\n  var children = options.xml.getElementsByTagName('child');\r\n  if(children.length > 0) {\r\n    this.child = children[0].getAttribute('link');\r\n  }\r\n\r\n  var limits = options.xml.getElementsByTagName('limit');\r\n  if (limits.length > 0) {\r\n    this.minval = parseFloat( limits[0].getAttribute('lower') );\r\n    this.maxval = parseFloat( limits[0].getAttribute('upper') );\r\n  }\r\n\r\n  // Origin\r\n  var origins = options.xml.getElementsByTagName('origin');\r\n  if (origins.length === 0) {\r\n    // use the identity as the default\r\n    this.origin = new Pose();\r\n  } else {\r\n    // Check the XYZ\r\n    var xyz = origins[0].getAttribute('xyz');\r\n    var position = new Vector3();\r\n    if (xyz) {\r\n      xyz = xyz.split(' ');\r\n      position = new Vector3({\r\n        x : parseFloat(xyz[0]),\r\n        y : parseFloat(xyz[1]),\r\n        z : parseFloat(xyz[2])\r\n      });\r\n    }\r\n\r\n    // Check the RPY\r\n    var rpy = origins[0].getAttribute('rpy');\r\n    var orientation = new Quaternion();\r\n    if (rpy) {\r\n      rpy = rpy.split(' ');\r\n      // Convert from RPY\r\n      var roll = parseFloat(rpy[0]);\r\n      var pitch = parseFloat(rpy[1]);\r\n      var yaw = parseFloat(rpy[2]);\r\n      var phi = roll / 2.0;\r\n      var the = pitch / 2.0;\r\n      var psi = yaw / 2.0;\r\n      var x = Math.sin(phi) * Math.cos(the) * Math.cos(psi) - Math.cos(phi) * Math.sin(the)\r\n          * Math.sin(psi);\r\n      var y = Math.cos(phi) * Math.sin(the) * Math.cos(psi) + Math.sin(phi) * Math.cos(the)\r\n          * Math.sin(psi);\r\n      var z = Math.cos(phi) * Math.cos(the) * Math.sin(psi) - Math.sin(phi) * Math.sin(the)\r\n          * Math.cos(psi);\r\n      var w = Math.cos(phi) * Math.cos(the) * Math.cos(psi) + Math.sin(phi) * Math.sin(the)\r\n          * Math.sin(psi);\r\n\r\n      orientation = new Quaternion({\r\n        x : x,\r\n        y : y,\r\n        z : z,\r\n        w : w\r\n      });\r\n      orientation.normalize();\r\n    }\r\n    this.origin = new Pose({\r\n      position : position,\r\n      orientation : orientation\r\n    });\r\n  }\r\n}\r\n\r\nmodule.exports = UrdfJoint;\r\n", "exports.DOMImplementation = window.DOMImplementation;\r\nexports.XMLSerializer = window.XMLSerializer;\r\nexports.DOMParser = window.DOMParser;\r\n", "/**\r\n * @fileOverview\r\n * @author Benjamin Pitzer - ben.pitzer@gmail.com\r\n * @author Russell Toris - rctoris@wpi.edu\r\n */\r\n\r\nvar UrdfMaterial = require('./UrdfMaterial');\r\nvar UrdfLink = require('./UrdfLink');\r\nvar UrdfJoint = require('./UrdfJoint');\r\nvar DOMParser = require('@xmldom/xmldom').DOMParser;\r\n\r\n// See https://developer.mozilla.org/docs/XPathResult#Constants\r\nvar XPATH_FIRST_ORDERED_NODE_TYPE = 9;\r\n\r\n/**\r\n * A URDF Model can be used to parse a given URDF into the appropriate elements.\r\n *\r\n * @constructor\r\n * @param {Object} options\r\n * @param {Element} options.xml - The XML element to parse.\r\n * @param {string} options.string - The XML element to parse as a string.\r\n */\r\nfunction UrdfModel(options) {\r\n  options = options || {};\r\n  var xmlDoc = options.xml;\r\n  var string = options.string;\r\n  this.materials = {};\r\n  this.links = {};\r\n  this.joints = {};\r\n\r\n  // Check if we are using a string or an XML element\r\n  if (string) {\r\n    // Parse the string\r\n    var parser = new DOMParser();\r\n    xmlDoc = parser.parseFromString(string, 'text/xml');\r\n  }\r\n\r\n  // Initialize the model with the given XML node.\r\n  // Get the robot tag\r\n  var robotXml = xmlDoc.documentElement;\r\n\r\n  // Get the robot name\r\n  this.name = robotXml.getAttribute('name');\r\n\r\n  // Parse all the visual elements we need\r\n  for (var nodes = robotXml.childNodes, i = 0; i < nodes.length; i++) {\r\n    var node = nodes[i];\r\n    if (node.tagName === 'material') {\r\n      var material = new UrdfMaterial({\r\n        xml : node\r\n      });\r\n      // Make sure this is unique\r\n      if (this.materials[material.name] !== void 0) {\r\n        if( this.materials[material.name].isLink() ) {\r\n          this.materials[material.name].assign( material );\r\n        } else {\r\n          console.warn('Material ' + material.name + 'is not unique.');\r\n        }\r\n      } else {\r\n        this.materials[material.name] = material;\r\n      }\r\n    } else if (node.tagName === 'link') {\r\n      var link = new UrdfLink({\r\n        xml : node\r\n      });\r\n      // Make sure this is unique\r\n      if (this.links[link.name] !== void 0) {\r\n        console.warn('Link ' + link.name + ' is not unique.');\r\n      } else {\r\n        // Check for a material\r\n        for( var j=0; j<link.visuals.length; j++ )\r\n        {\r\n          var mat = link.visuals[j].material;\r\n          if ( mat !== null && mat.name ) {\r\n            if (this.materials[mat.name] !== void 0) {\r\n              link.visuals[j].material = this.materials[mat.name];\r\n            } else {\r\n              this.materials[mat.name] = mat;\r\n            }\r\n          }\r\n        }\r\n\r\n        // Add the link\r\n        this.links[link.name] = link;\r\n      }\r\n    } else if (node.tagName === 'joint') {\r\n      var joint = new UrdfJoint({\r\n        xml : node\r\n      });\r\n      this.joints[joint.name] = joint;\r\n    }\r\n  }\r\n}\r\n\r\nmodule.exports = UrdfModel;\r\n", "module.exports = require('object-assign')({\r\n    UrdfBox: require('./UrdfBox'),\r\n    UrdfColor: require('./UrdfColor'),\r\n    UrdfCylinder: require('./UrdfCylinder'),\r\n    UrdfLink: require('./UrdfLink'),\r\n    UrdfMaterial: require('./UrdfMaterial'),\r\n    UrdfMesh: require('./UrdfMesh'),\r\n    UrdfModel: require('./UrdfModel'),\r\n    UrdfSphere: require('./UrdfSphere'),\r\n    UrdfVisual: require('./UrdfVisual')\r\n}, require('./UrdfTypes'));\r\n", "/**\r\n * @fileOverview\r\n * @author Russell Toris - rctoris@wpi.edu\r\n */\r\n\r\n/**\r\n * If you use roslib in a browser, all the classes will be exported to a global variable called ROSLIB.\r\n *\r\n * If you use nodejs, this is the variable you get when you require('roslib').\r\n */\r\nvar ROSLIB = this.ROSLIB || {\r\n  /**\r\n   * @default\r\n   * @description Library version\r\n   */\r\n  REVISION : '1.4.1'\r\n};\r\n\r\nvar assign = require('object-assign');\r\n\r\n// Add core components\r\nassign(ROSLIB, require('./core'));\r\n\r\nassign(ROSLIB, require('./actionlib'));\r\n\r\nassign(ROSLIB, require('./math'));\r\n\r\nassign(ROSLIB, require('./tf'));\r\n\r\nassign(ROSLIB, require('./urdf'));\r\n\r\nmodule.exports = ROSLIB;\r\n"],
  "mappings": "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",
  "names": ["key", "__webpack_require__", "module", "exports", "WebSocket", "undefined", "i", "value", "dataView", "message", "undefined", "Promise", "reject", "event", "events", "WebSocket", "message"]
}
